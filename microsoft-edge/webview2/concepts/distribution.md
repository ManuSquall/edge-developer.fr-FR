---
description: Options de distribution lors de la publication d’une application à l’aide de Microsoft Edge WebView2
title: Distribution des applications WebView2 Microsoft Edge
author: MSEdgeTeam
ms.author: msedgedevrel
ms.date: 11/23/2020
ms.topic: conceptual
ms.prod: microsoft-edge
ms.technology: webview
keywords: IWebView2, IWebView2WebView, webview2, WebView, applications WPF, WPF, Edge, ICoreWebView2, ICoreWebView2Host, contrôle de navigateur, html Edge
ms.openlocfilehash: 14f252b0155beb6bfce0b01dc080900f2d3e57ee
ms.sourcegitcommit: e79503c6c53ea9b7de58f8cf1532b5c82116a6eb
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 12/03/2020
ms.locfileid: "11195165"
---
# <span data-ttu-id="17479-104">Distribution d’applications à l’aide de WebView2</span><span class="sxs-lookup"><span data-stu-id="17479-104">Distribution of apps using WebView2</span></span>  

<span data-ttu-id="17479-105">Lors de la distribution de votre application WebView2, assurez-vous que la plateforme Web de stockage, le [Runtime WebView2][Webview2Installer], est présente avant le démarrage de l’application.</span><span class="sxs-lookup"><span data-stu-id="17479-105">When distributing your WebView2 app, ensure the backing web platform, the [WebView2 Runtime][Webview2Installer], is present before the app starts.</span></span>  <span data-ttu-id="17479-106">Cet article décrit comment vous \ (le développeur \) avez installé le runtime  [WebView2 et utiliser](#evergreen-distribution-mode) les deux modes de distribution pour votre application WebView2: persistants et [version corrigée](#fixed-version-distribution-mode).</span><span class="sxs-lookup"><span data-stu-id="17479-106">This article describes how you \(the developer\) install the WebView2 Runtime, and use the two distribution modes for your WebView2 app:  [Evergreen](#evergreen-distribution-mode) and [Fixed Version](#fixed-version-distribution-mode).</span></span>  

## <span data-ttu-id="17479-107">Mode de distribution persistant</span><span class="sxs-lookup"><span data-stu-id="17479-107">Evergreen distribution mode</span></span>  

> [!NOTE]
> <span data-ttu-id="17479-108">Le mode de distribution persistant est recommandé pour la plupart des développeurs.</span><span class="sxs-lookup"><span data-stu-id="17479-108">The Evergreen distribution mode is recommended for most developers.</span></span>  

<span data-ttu-id="17479-109">Le mode de distribution persistant garantit que votre application tire parti des dernières fonctionnalités et des mises à jour de sécurité.</span><span class="sxs-lookup"><span data-stu-id="17479-109">The Evergreen distribution mode ensures that your app is taking advantage of the latest features and security updates.</span></span>  <span data-ttu-id="17479-110">Il présente les caractéristiques suivantes.</span><span class="sxs-lookup"><span data-stu-id="17479-110">It has the following characteristics.</span></span>  

*   <span data-ttu-id="17479-111">La plateforme Web sous-jacente \ (WebView2 Runtime \) est automatiquement mise à jour sans aucun effort supplémentaire de votre part.</span><span class="sxs-lookup"><span data-stu-id="17479-111">The underlying web platform \(WebView2 Runtime\) updates automatically without additional effort from you.</span></span>  
*   <span data-ttu-id="17479-112">Toutes les applications qui utilisent le mode de distribution persistant utilisent une copie partagée du runtime WebView2 persistant, qui économise de l’espace disque.</span><span class="sxs-lookup"><span data-stu-id="17479-112">All apps that use the Evergreen distribution mode use a shared copy of the Evergreen WebView2 Runtime, which saves disk space.</span></span>  
    
### <span data-ttu-id="17479-113">Présentation de la WebView2 Runtime</span><span class="sxs-lookup"><span data-stu-id="17479-113">Understanding the WebView2 Runtime</span></span>  

<span data-ttu-id="17479-114">WebView2 Runtime est un Runtime redistribuable qui sert de plateforme Web de stockage pour les applications WebView2.</span><span class="sxs-lookup"><span data-stu-id="17479-114">The WebView2 Runtime is a redistributable runtime and serves as the backing web platform for WebView2 apps.</span></span>  <span data-ttu-id="17479-115">Ce concept est similaire à celui des applications Visual C++ ou .NET Runtime pour C++/.NET.</span><span class="sxs-lookup"><span data-stu-id="17479-115">The concept is similar to Visual C++ or the .NET Runtime for C++/.NET apps.</span></span>  <span data-ttu-id="17479-116">Le Runtime contient les fichiers binaires Microsoft Edge \ (chrome \) modifiés qui sont affiné et testés pour les applications.</span><span class="sxs-lookup"><span data-stu-id="17479-116">The Runtime contains modified Microsoft Edge \(Chromium\) binaries that are fine-tuned and tested for apps.</span></span>  <span data-ttu-id="17479-117">Dans le cadre de l’installation, le runtime n’apparaît pas sous la forme d’un navigateur visible par l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="17479-117">The Runtime does not appear as a user-visible browser upon installation.</span></span>  <span data-ttu-id="17479-118">Par exemple, un utilisateur ne dispose pas d’une entrée de raccourci sur le bureau ou de menu Démarrer.</span><span class="sxs-lookup"><span data-stu-id="17479-118">For example, a user does not have a browser desktop shortcut or start menu entry.</span></span>  

<span data-ttu-id="17479-119">Lors du développement et des tests, vous pouvez utiliser la plateforme Web de stockage.</span><span class="sxs-lookup"><span data-stu-id="17479-119">During development and testing, you may use either as the backing web platform.</span></span>  

*   <span data-ttu-id="17479-120">Exécution de WebView2</span><span class="sxs-lookup"><span data-stu-id="17479-120">The WebView2 Runtime</span></span>  
*   <span data-ttu-id="17479-121">Tout Insider \ (non stable \) canal de navigateur Microsoft Edge \ (chrome \)</span><span class="sxs-lookup"><span data-stu-id="17479-121">Any Insider \(non-stable\) Microsoft Edge \(Chromium\) browser channel</span></span>  
    
<span data-ttu-id="17479-122">Dans les environnements de production, vous devez vous assurer que le runtime est présent sur les appareils utilisateurs avant le démarrage de l’application.</span><span class="sxs-lookup"><span data-stu-id="17479-122">In production environments, you must ensure the Runtime is present on user devices before the app starts.</span></span>  <span data-ttu-id="17479-123">Le canal stable Microsoft Edge n’est pas disponible pour l’utilisation de WebView2.</span><span class="sxs-lookup"><span data-stu-id="17479-123">The Microsoft Edge Stable channel is unavailable for WebView2 usage.</span></span>  <span data-ttu-id="17479-124">La décision empêche les applications d’adopter une dépendance sur le navigateur en production.</span><span class="sxs-lookup"><span data-stu-id="17479-124">The decision prevents apps from taking a dependency on the browser in production.</span></span>

<span data-ttu-id="17479-125">Ne prenez pas de dépendance sur le navigateur pour les raisons suivantes:</span><span class="sxs-lookup"><span data-stu-id="17479-125">Do not take a dependency on the browser because:</span></span>  

*   <span data-ttu-id="17479-126">Il n’est pas garanti que Microsoft Edge \ (chrome \) soit présent sur tous les appareils utilisateurs.</span><span class="sxs-lookup"><span data-stu-id="17479-126">Microsoft Edge \(Chromium\) is not guaranteed to be present on all user devices.</span></span>  <span data-ttu-id="17479-127">Par exemple, les appareils déconnectés de Windows Update ou qui ne sont pas gérés directement par Microsoft \ (une grande partie du marché entreprise et EDU) ne disposent pas du navigateur.</span><span class="sxs-lookup"><span data-stu-id="17479-127">For example, devices disconnected from Windows Update or not managed by Microsoft directly \(a large portion of the Enterprise and EDU market\) may not have the browser.</span></span>  <span data-ttu-id="17479-128">La possibilité de distribuer le runtime WebView2 évite d’adopter une dépendance sur le navigateur en tant qu’indispensable pour les applications.</span><span class="sxs-lookup"><span data-stu-id="17479-128">Allowing you to distribute the WebView2 Runtime avoids taking a dependency on the browser as a pre-requisite for apps.</span></span>  
*   <span data-ttu-id="17479-129">Les navigateurs et applications ont des cas d’utilisation différents, et par conséquent, il est possible que les dépendances sur un navigateur aient des effets inattendus sur vos applications.</span><span class="sxs-lookup"><span data-stu-id="17479-129">Browsers and apps have different use cases, and so taking a dependency on a browser may have unintended side-effects on your apps.</span></span>  <span data-ttu-id="17479-130">Par exemple, il est possible que les administrateurs informatiques contrôlent la version du navigateur pour la compatibilité du site Web interne.</span><span class="sxs-lookup"><span data-stu-id="17479-130">For example, IT admins may version-control the browser for internal website compatibility.</span></span>  <span data-ttu-id="17479-131">Le runtime WebView2 permet aux applications de rester persistantes lorsque les mises à jour de navigateur sont activement gérées.</span><span class="sxs-lookup"><span data-stu-id="17479-131">The WebView2 Runtime allows apps to stay evergreen while browser updates are being actively managed.</span></span>  
*   <span data-ttu-id="17479-132">Contrairement au navigateur, le runtime est développé et testé pour les scénarios d’application, et dans certains cas, il peut y avoir des corrections de bogues qui ne sont pas encore disponibles dans le navigateur.</span><span class="sxs-lookup"><span data-stu-id="17479-132">As opposed to the browser, the Runtime is developed and tested for app scenarios and in some cases may include bug fixes not yet available in the browser.</span></span>  
    
<span data-ttu-id="17479-133">À l’avenir, les WebView2s d’exécution persistantes à livrer dans de futures versions de Windows.</span><span class="sxs-lookup"><span data-stu-id="17479-133">In the future, the Evergreen WebView2 Runtime plans to ship with future releases of Windows.</span></span>  <span data-ttu-id="17479-134">Déployez le Runtime avec votre application de production jusqu’à ce que le runtime soit plus universellement disponible.</span><span class="sxs-lookup"><span data-stu-id="17479-134">Deploy the Runtime with your production app until the Runtime becomes more universally available.</span></span>  

### <span data-ttu-id="17479-135">Déploiement de l’exécutable WebView2 persistant</span><span class="sxs-lookup"><span data-stu-id="17479-135">Deploying the Evergreen WebView2 Runtime</span></span>  

<span data-ttu-id="17479-136">Une seule installation de l’exécutable WebView2 persistant est nécessaire pour toutes les applications persistantes sur l’appareil.</span><span class="sxs-lookup"><span data-stu-id="17479-136">Only one installation of the Evergreen WebView2 Runtime is needed for all Evergreen apps on the device.</span></span>  <span data-ttu-id="17479-137">Plusieurs outils sont disponibles sur la [page de téléchargement de WebView2 Runtime][Webview2Installer].</span><span class="sxs-lookup"><span data-stu-id="17479-137">There are a number of tools available on the [WebView2 Runtime download page][Webview2Installer].</span></span>  <span data-ttu-id="17479-138">Les outils suivants vous aident à déployer le runtime persistant.</span><span class="sxs-lookup"><span data-stu-id="17479-138">The following tools help you deploy the Evergreen Runtime.</span></span>  

*   <span data-ttu-id="17479-139">Le programme d’amorçage du runtime WebView2 est un programme d’installation minuscule \ (approximativement 2 Mo).</span><span class="sxs-lookup"><span data-stu-id="17479-139">WebView2 Runtime Bootstrapper is a tiny \(approximately 2 MB\) installer.</span></span>  <span data-ttu-id="17479-140">Le programme d’amorçage du runtime WebView2 télécharge et installe le runtime à partir de serveurs Microsoft qui correspond à l’architecture de l’appareil de l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="17479-140">WebView2 Runtime Bootstrapper downloads and installs the Evergreen Runtime from Microsoft servers that matches the user's device architecture.</span></span>  
*   <span data-ttu-id="17479-141">Utilisez un lien pour télécharger le programme d’amorçage par programmation.</span><span class="sxs-lookup"><span data-stu-id="17479-141">Use a link to programmatically download the bootstrapper.</span></span>  
*   <span data-ttu-id="17479-142">Le programme d’installation autonome de WebView2 Runtime est un programme d’installation complet qui installe le runtime WebView2 persistant dans les environnements hors connexion.</span><span class="sxs-lookup"><span data-stu-id="17479-142">WebView2 Runtime Standalone Installer is a full installer that installs the Evergreen WebView2 Runtime in offline environments.</span></span>  
    
<span data-ttu-id="17479-143">Pour le moment, le programme d’amorçage et le programme d’installation autonome prennent uniquement en charge les installations par ordinateur qui nécessitent une élévation.</span><span class="sxs-lookup"><span data-stu-id="17479-143">Currently, both the bootstrapper and standalone installer only support per-machine installs, which requires elevation.</span></span>  <span data-ttu-id="17479-144">Si un programme d’installation est exécuté sans élévation, l’utilisateur est invité à élever ses autorisations.</span><span class="sxs-lookup"><span data-stu-id="17479-144">If an installer is run without elevation, the user is prompted to elevate permissions.</span></span>  

<span data-ttu-id="17479-145">Utilisez les flux de travail suivants pour vérifier que le runtime est déjà installé avant le lancement de l’application.</span><span class="sxs-lookup"><span data-stu-id="17479-145">Use following workflows to ensure the Runtime is already installed before your app launches.</span></span>  <span data-ttu-id="17479-146">Vous pouvez ajuster votre flux de travail en fonction de votre scénario.</span><span class="sxs-lookup"><span data-stu-id="17479-146">You may adjust your workflow depending on your scenario.</span></span>  <span data-ttu-id="17479-147">Un exemple de code est disponible dans le [référentiel samples d’exemples][GitHubMicrosoftedgeWebView2samplesWebview2Deployment].</span><span class="sxs-lookup"><span data-stu-id="17479-147">Sample code is available in the [Samples repo][GitHubMicrosoftedgeWebView2samplesWebview2Deployment].</span></span>  

#### <span data-ttu-id="17479-148">Déploiement en ligne uniquement</span><span class="sxs-lookup"><span data-stu-id="17479-148">Online-only deployment</span></span>  

<span data-ttu-id="17479-149">Si vous avez un scénario de déploiement en ligne uniquement dans lequel les utilisateurs sont supposés disposer d’un accès à Internet, suivez les étapes ci-dessous.</span><span class="sxs-lookup"><span data-stu-id="17479-149">If you have an online-only deployment scenario where users are assumed to have internet access, complete the following steps.</span></span>  

1.  <span data-ttu-id="17479-150">Lors de la configuration de votre application, assurez-vous que le runtime est déjà installé.</span><span class="sxs-lookup"><span data-stu-id="17479-150">During your app setup, ensure the Runtime is already installed.</span></span>  <span data-ttu-id="17479-151">Pour procéder à la vérification, effectuez l’une des actions suivantes.</span><span class="sxs-lookup"><span data-stu-id="17479-151">To  verify, complete one of the following actions.</span></span>  
    *   <span data-ttu-id="17479-152">Recherchez s' `pv (REG_SZ)` il existe un contrôle RegKey et qu’il n’est pas `null` ou vide.</span><span class="sxs-lookup"><span data-stu-id="17479-152">Inspect if the `pv (REG_SZ)` regkey exists and is not `null` or empty.</span></span>  <span data-ttu-id="17479-153">Accédez  `pv (REG_SZ)` à l’emplacement suivant.</span><span class="sxs-lookup"><span data-stu-id="17479-153">Find  `pv (REG_SZ)` at the following location.</span></span>  
        
        <span data-ttu-id="17479-154">Sous Windows 64 bits</span><span class="sxs-lookup"><span data-stu-id="17479-154">On 64-bit Windows</span></span>  
        
        ```text
        HKEY_LOCAL_MACHINE\SOFTWARE\WOW6432Node\Microsoft\EdgeUpdate\Clients\{F3017226-FE2A-4295-8BDF-00C3A9A7E4C5}
        ```  
        
        <span data-ttu-id="17479-155">Sous Windows 32 bits</span><span class="sxs-lookup"><span data-stu-id="17479-155">On 32-bit Windows</span></span>  
        
        ```text
        HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\EdgeUpdate\Clients\{F3017226-FE2A-4295-8BDF-00C3A9A7E4C5}
        ```  
        
    *   <span data-ttu-id="17479-156">Exécutez [GetAvailableCoreWebView2BrowserVersionString][ReferenceWin32Webview2IdlGetavailablecorewebview2browserversionstring] et assurez-vous que le `versionInfo` est `NULL` .</span><span class="sxs-lookup"><span data-stu-id="17479-156">Run [GetAvailableCoreWebView2BrowserVersionString][ReferenceWin32Webview2IdlGetavailablecorewebview2browserversionstring] and ensure the `versionInfo` is `NULL`.</span></span>  
1.  <span data-ttu-id="17479-157">Si le runtime n’est pas installé, utilisez le lien pour télécharger le programme d’amorçage par programmation.</span><span class="sxs-lookup"><span data-stu-id="17479-157">If the Runtime is not installed, use the link to programmatically download the bootstrapper.</span></span>  
1.  <span data-ttu-id="17479-158">Invoquez le programme d’amorçage à partir d’un processus ou d’une invite de commandes avec élévation de privilèges `MicrosoftEdgeWebview2Setup.exe /silent /install` pour une installation silencieuse.</span><span class="sxs-lookup"><span data-stu-id="17479-158">Invoke the bootstrapper from an elevated process or command prompt with `MicrosoftEdgeWebview2Setup.exe /silent /install` for silent install.</span></span>  
    
<span data-ttu-id="17479-159">Le flux de travail précédent offre les avantages suivants.</span><span class="sxs-lookup"><span data-stu-id="17479-159">The previous workflow has the following benefits.</span></span>  

*   <span data-ttu-id="17479-160">Installez le runtime uniquement quand cela est nécessaire ou que vous n’êtes pas obligé d’installer un package.</span><span class="sxs-lookup"><span data-stu-id="17479-160">Install the Runtime only when needed or when you are not required to package installers.</span></span>  
*   <span data-ttu-id="17479-161">Le programme d’amorçage détecte automatiquement l’architecture de l’appareil et installe le runtime correspondant.</span><span class="sxs-lookup"><span data-stu-id="17479-161">The bootstrapper automatically detects device architecture and installs the matching Runtime.</span></span>  
*   <span data-ttu-id="17479-162">Installez le runtime en silence.</span><span class="sxs-lookup"><span data-stu-id="17479-162">Install the Runtime silently.</span></span>  
    
<span data-ttu-id="17479-163">Vous pouvez également choisir de conditionner le programme de démarrage avec votre application au lieu de le télécharger par programmation à la demande.</span><span class="sxs-lookup"><span data-stu-id="17479-163">You may also choose to package the bootstrapper with your app instead of programmatically downloading it on demand.</span></span>  

#### <span data-ttu-id="17479-164">Déploiement hors connexion</span><span class="sxs-lookup"><span data-stu-id="17479-164">Offline deployment</span></span>  

<span data-ttu-id="17479-165">Si vous avez un scénario de déploiement hors connexion dans lequel le déploiement de l’application doit fonctionner entièrement hors connexion, procédez comme suit.</span><span class="sxs-lookup"><span data-stu-id="17479-165">If you have an offline deployment scenario where app deployment has to work entirely offline, complete the following steps.</span></span>  

1.  <span data-ttu-id="17479-166">Téléchargez le [programme d’installation autonome][Webview2Installer].</span><span class="sxs-lookup"><span data-stu-id="17479-166">Download the [standalone installer][Webview2Installer].</span></span>  
1.  <span data-ttu-id="17479-167">Incluez le programme d’installation dans le programme d’installation ou de mise à jour de votre application.</span><span class="sxs-lookup"><span data-stu-id="17479-167">Include the installer in your app installer or updater.</span></span>  
1.  <span data-ttu-id="17479-168">Lors de la configuration de votre application, assurez-vous que le runtime est déjà installé.</span><span class="sxs-lookup"><span data-stu-id="17479-168">During your app setup, ensure the Runtime is already installed.</span></span>  <span data-ttu-id="17479-169">Pour procéder à la vérification, effectuez l’une des actions suivantes.</span><span class="sxs-lookup"><span data-stu-id="17479-169">To  verify, complete one of the following actions.</span></span>  
    *   <span data-ttu-id="17479-170">Recherchez s' `pv (REG_SZ)` il existe un contrôle RegKey et qu’il n’est pas `null` ou vide.</span><span class="sxs-lookup"><span data-stu-id="17479-170">Inspect if the `pv (REG_SZ)` regkey exists and is not `null` or empty.</span></span>  <span data-ttu-id="17479-171">Accédez  `pv (REG_SZ)` à l’emplacement suivant.</span><span class="sxs-lookup"><span data-stu-id="17479-171">Find  `pv (REG_SZ)` at the following location.</span></span>  
        
        <span data-ttu-id="17479-172">Sous Windows 64 bits</span><span class="sxs-lookup"><span data-stu-id="17479-172">On 64-bit Windows</span></span>  
        
        ```text
        HKEY_LOCAL_MACHINE\SOFTWARE\WOW6432Node\Microsoft\EdgeUpdate\Clients\{F3017226-FE2A-4295-8BDF-00C3A9A7E4C5}
        ```  
        
        <span data-ttu-id="17479-173">Sous Windows 32 bits</span><span class="sxs-lookup"><span data-stu-id="17479-173">On 32-bit Windows</span></span>  
        
        ```text
        HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\EdgeUpdate\Clients\{F3017226-FE2A-4295-8BDF-00C3A9A7E4C5}
        ```  
        
    *   <span data-ttu-id="17479-174">Exécutez [GetAvailableCoreWebView2BrowserVersionString][ReferenceWin32Webview2IdlGetavailablecorewebview2browserversionstring] et assurez-vous que le `versionInfo` est `NULL` .</span><span class="sxs-lookup"><span data-stu-id="17479-174">Run [GetAvailableCoreWebView2BrowserVersionString][ReferenceWin32Webview2IdlGetavailablecorewebview2browserversionstring] and ensure the `versionInfo` is `NULL`.</span></span>  
1.  <span data-ttu-id="17479-175">Si le runtime n’est pas installé, exécutez le programme d’installation autonome.</span><span class="sxs-lookup"><span data-stu-id="17479-175">If the Runtime is not installed, run the standalone installer.</span></span>  <span data-ttu-id="17479-176">Si vous voulez exécuter une installation silencieuse, exécutez le programme d’installation à partir d’un processus avec élévation de privilèges ou copiez et exécutez la commande suivante.</span><span class="sxs-lookup"><span data-stu-id="17479-176">If you want to run a silent installation, either run the installer from an elevated process or copy and run the following command.</span></span>  
    
    ```shell
    MicrosoftEdgeWebView2RuntimeInstaller{X64/X86/ARM64}.exe /silent /install
    ```  
    
### <span data-ttu-id="17479-177">Restez compatible en mode persistant</span><span class="sxs-lookup"><span data-stu-id="17479-177">Stay compatible in Evergreen mode</span></span>  

<span data-ttu-id="17479-178">Le Web évolue constamment.</span><span class="sxs-lookup"><span data-stu-id="17479-178">The Web is constantly evolving.</span></span>  <span data-ttu-id="17479-179">Le runtime WebView2 persistant est mis à jour de manière à vous fournir les fonctionnalités les plus récentes et les correctifs de sécurité.</span><span class="sxs-lookup"><span data-stu-id="17479-179">The Evergreen WebView2 Runtime is kept up to date to provide you with the latest features and security fixes.</span></span>  <span data-ttu-id="17479-180">Pour vous assurer que votre application reste compatible avec le Web, vous devez configurer l’infrastructure de test.</span><span class="sxs-lookup"><span data-stu-id="17479-180">To ensure your app stays compatible with the web, you should set up testing infrastructure.</span></span>  

<span data-ttu-id="17479-181">Les canaux Microsoft Edge non stables \ (bêta/dev/Canaries \) offrent un aperçu de ce qui se passe dans WebView2 Runtime.</span><span class="sxs-lookup"><span data-stu-id="17479-181">Non-stable Microsoft Edge channels \(Beta/Dev/Canary\) provide a sneak peek into what is coming next into WebView2 Runtime.</span></span>  <span data-ttu-id="17479-182">Tout comme le développement de sites Web pour Microsoft Edge, nous vous conseillons de tester régulièrement votre application WebView2.</span><span class="sxs-lookup"><span data-stu-id="17479-182">Just like developing websites for Microsoft Edge, you should test your WebView2 app regularly.</span></span>  <span data-ttu-id="17479-183">Testez votre application WebView2 sur l’un des canaux non stables et mettez à jour votre application ou [signalez des problèmes][GithubMicrosoftedgeWebviewfeedback] en cas de problème.</span><span class="sxs-lookup"><span data-stu-id="17479-183">Test your WebView2 app against one of the non-stable channels, and update your app or [report issues][GithubMicrosoftedgeWebviewfeedback] if issues arise.</span></span> <span data-ttu-id="17479-184">En règle générale, le développement et la version bêta sont les canaux recommandés.</span><span class="sxs-lookup"><span data-stu-id="17479-184">Typically Dev and Beta are the recommended channels.</span></span>  <span data-ttu-id="17479-185">Pour vous aider à déterminer le canal qui vous convient, accédez à [vue d’ensemble des canaux Microsoft Edge][DeployEdgeMicrosoftEdgeChannels].</span><span class="sxs-lookup"><span data-stu-id="17479-185">To help you decide which channel is right, navigate to [Overview of the Microsoft Edge channels][DeployEdgeMicrosoftEdgeChannels].</span></span>  <span data-ttu-id="17479-186">Vous pouvez télécharger le [canal Microsoft Edge non stable][DownloadNonstableEdge] sur votre environnement de test et utiliser des `regkey` variables d’environnement pour indiquer les préférences de canal de votre application de test.</span><span class="sxs-lookup"><span data-stu-id="17479-186">You may download the [non-stable Microsoft Edge channel][DownloadNonstableEdge] on your test environment, and use `regkey` or environment variables to indicate the channel preference for your testing app.</span></span>  <span data-ttu-id="17479-187">Pour plus d’informations, accédez à [CreateCoreWebView2EnvironmentWithOptions][ReferenceWin32Webview2IdlCreatecorewebview2environmentwithoptions].</span><span class="sxs-lookup"><span data-stu-id="17479-187">For more information, navigate to [CreateCoreWebView2EnvironmentWithOptions][ReferenceWin32Webview2IdlCreatecorewebview2environmentwithoptions].</span></span>  <span data-ttu-id="17479-188">Vous pouvez également utiliser [WebDriver][HowtoWebdriver] pour automatiser les tests WebView2.</span><span class="sxs-lookup"><span data-stu-id="17479-188">You may also use [WebDriver][HowtoWebdriver] to automate WebView2 testing.</span></span>

## <span data-ttu-id="17479-189">Mode de distribution de version fixe</span><span class="sxs-lookup"><span data-stu-id="17479-189">Fixed Version distribution mode</span></span>   

<span data-ttu-id="17479-190">Pour les environnements restreints ayant des exigences de compatibilité strictes, envisagez d’utiliser le mode de distribution de version fixe.</span><span class="sxs-lookup"><span data-stu-id="17479-190">For constrained environments with strict compatibility requirements, consider using the Fixed Version distribution mode.</span></span>  <span data-ttu-id="17479-191">Choisissez et Empaquetez une version spécifique du runtime WebView2 à l’aide du mode de distribution de version fixe.</span><span class="sxs-lookup"><span data-stu-id="17479-191">Choose and package a specific version of the WebView2 Runtime using the Fixed Version distribution mode.</span></span>  <span data-ttu-id="17479-192">Vous pouvez spécifier le minutage des mises à jour de l’exécution de votre application.</span><span class="sxs-lookup"><span data-stu-id="17479-192">You may specify the timing of Runtime updates for your app.</span></span>  <span data-ttu-id="17479-193">Le mode de distribution de la version fixe ne reçoit pas de mises à jour automatiques.</span><span class="sxs-lookup"><span data-stu-id="17479-193">The Fixed Version distribution mode does not receive any automatic updates.</span></span> <span data-ttu-id="17479-194">Envisagez de mettre à jour votre application et le Runtime.</span><span class="sxs-lookup"><span data-stu-id="17479-194">Plan to update your app and the Runtime.</span></span>  

> [!NOTE] 
> <span data-ttu-id="17479-195">Le mode de distribution de la version fixe a été auparavant appelé vous-même.</span><span class="sxs-lookup"><span data-stu-id="17479-195">The Fixed Version distribution mode was previously called bring-your-own.</span></span>  

<span data-ttu-id="17479-196">Pour utiliser le mode de version fixe, effectuez les actions suivantes:</span><span class="sxs-lookup"><span data-stu-id="17479-196">To use the Fixed Version mode, complete the following actions</span></span>

1.  <span data-ttu-id="17479-197">[Téléchargez][Webview2Installer] le package de la version fixe.</span><span class="sxs-lookup"><span data-stu-id="17479-197">[Download][Webview2Installer] the Fixed Version package.</span></span> 
1.  <span data-ttu-id="17479-198">Décompressez le package à l’aide de la ligne de commande `expand {path to the package} -F:* {path to the destination folder}` ou d’outils tels que WinRAR.</span><span class="sxs-lookup"><span data-stu-id="17479-198">Decompress the package using command line `expand {path to the package} -F:* {path to the destination folder}` or with tools such as WinRAR.</span></span> <span data-ttu-id="17479-199">Évitez de décompresser les fichiers dans l’Explorateur de fichiers, car il est possible que la structure de dossiers ne soit pas valide.</span><span class="sxs-lookup"><span data-stu-id="17479-199">Avoid decompressing through the File Explorer as it may not generate the correct folder structure.</span></span>  
1.  <span data-ttu-id="17479-200">Incluez les fichiers binaires de version fixes décompressés dans votre projet.</span><span class="sxs-lookup"><span data-stu-id="17479-200">Include the decompressed Fixed Version binaries in your project.</span></span>  
1.  <span data-ttu-id="17479-201">Spécifiez le chemin d’accès aux fichiers binaires de version fixe lors de la création de l’environnement WebView2.</span><span class="sxs-lookup"><span data-stu-id="17479-201">Indicate the path to the Fixed Version binaries when creating the WebView2 environment.</span></span>  
    *   <span data-ttu-id="17479-202">Pour Win32 C/C++, vous pouvez créer l’environnement à l’aide de la fonction [CreateCoreWebView2EnvironmentWithOptions][ReferenceWin32Webview2IdlCreatecorewebview2environmentwithoptions] .</span><span class="sxs-lookup"><span data-stu-id="17479-202">For Win32 C/C++, you may create the environment using the [CreateCoreWebView2EnvironmentWithOptions][ReferenceWin32Webview2IdlCreatecorewebview2environmentwithoptions] function.</span></span>  <span data-ttu-id="17479-203">Utilisez le `browserExecutableFolder` paramètre pour indiquer le chemin d’accès au dossier contenant `msedgewebview2.exe` .</span><span class="sxs-lookup"><span data-stu-id="17479-203">Use the `browserExecutableFolder` parameter to indicate the path to the folder containing `msedgewebview2.exe`.</span></span>  
    *   <span data-ttu-id="17479-204">Pour .NET, vous pouvez effectuer l’une des options suivantes pour spécifier l’environnement.</span><span class="sxs-lookup"><span data-stu-id="17479-204">For .NET, you may do either of the following options to specify the environment.</span></span>  
        
        > [!NOTE]
        > <span data-ttu-id="17479-205">Vous devez spécifier l’environnement pour que la `Source` propriété WebView2 prenne effet.</span><span class="sxs-lookup"><span data-stu-id="17479-205">You must specify the environment before the WebView2 `Source` property takes effect.</span></span>  
        
        *   <span data-ttu-id="17479-206">Définissez la `CreationProperties` propriété \ ([WPF][ReferenceWpfMicrosoftWebWebview2WpfWebview2Creationproperties] / [WinForms][ReferenceWinFormsMicrosoftWebWebview2WinFormsWebview2]\) sur l’élément WebView2.</span><span class="sxs-lookup"><span data-stu-id="17479-206">Set the `CreationProperties` \([WPF][ReferenceWpfMicrosoftWebWebview2WpfWebview2Creationproperties]/[WinForms][ReferenceWinFormsMicrosoftWebWebview2WinFormsWebview2]\) property on the WebView2 element.</span></span>  <span data-ttu-id="17479-207">Utilisez le `BrowserExecutableFolder` membre de la `CoreWebView2CreationProperties` classe \ ([WPF][ReferenceWpfMicrosoftWebWebview2WpfCorewebview2creationpropertiesCorewebview2creationproperties] / [WinForms][ReferenceWinFormsMicrosoftWebWebview2WinForms]\) pour indiquer le chemin d’accès aux fichiers binaires de version fixes.</span><span class="sxs-lookup"><span data-stu-id="17479-207">Use the `BrowserExecutableFolder` member in the `CoreWebView2CreationProperties` \([WPF][ReferenceWpfMicrosoftWebWebview2WpfCorewebview2creationpropertiesCorewebview2creationproperties]/[WinForms][ReferenceWinFormsMicrosoftWebWebview2WinForms]\) class to indicate the path to the Fixed Version binaries.</span></span>  
        *   <span data-ttu-id="17479-208">Utilisez `EnsureCoreWebView2Async` \ ([WPF][ReferenceWpfMicrosoftWebWebview2WpfWebview2Ensurecorewebview2async] / [WinForms][ReferenceWinformsMicrosoftWebWebview2WinformsWebview2Ensurecorewebview2async]de WPF) pour spécifier l’environnement.</span><span class="sxs-lookup"><span data-stu-id="17479-208">Use `EnsureCoreWebView2Async` \([WPF][ReferenceWpfMicrosoftWebWebview2WpfWebview2Ensurecorewebview2async]/[WinForms][ReferenceWinformsMicrosoftWebWebview2WinformsWebview2Ensurecorewebview2async]\) to specify the environment.</span></span>  <span data-ttu-id="17479-209">Utilisez le `browserExecutableFolder` paramètre dans [CoreWebView2Environment. CreateAsync][ReferenceDotnetMicrosoftWebWebview2CoreCorewebview2environmentCreateasync] pour indiquer le chemin d’accès aux fichiers binaires de version fixes.</span><span class="sxs-lookup"><span data-stu-id="17479-209">Use the `browserExecutableFolder` parameter in [CoreWebView2Environment.CreateAsync][ReferenceDotnetMicrosoftWebWebview2CoreCorewebview2environmentCreateasync] to indicate the path to the Fixed Version binaries.</span></span>  
1.  <span data-ttu-id="17479-210">Empaquetez et expédiez les fichiers binaires de la version fixe avec votre application.</span><span class="sxs-lookup"><span data-stu-id="17479-210">Package and ship the Fixed Version binaries with your app.</span></span>  <span data-ttu-id="17479-211">Mettez à jour les fichiers binaires, le cas échéant.</span><span class="sxs-lookup"><span data-stu-id="17479-211">Update the binaries as appropriate.</span></span>  
    
### <span data-ttu-id="17479-212">Problèmes connus de la version corrigée</span><span class="sxs-lookup"><span data-stu-id="17479-212">Known issues for Fixed Version</span></span>  

<span data-ttu-id="17479-213">Comparé à l’exécution persistantes, la version corrigée n’a pas de processus d’installation, ce qui a pour effet que [Microsoft PlayReady][MicrosoftPlayReady] ne fonctionne pas sans modification.</span><span class="sxs-lookup"><span data-stu-id="17479-213">Compared to the Evergreen Runtime, Fixed Version does not have an installation process, which causes [Microsoft PlayReady][MicrosoftPlayReady] to not work without modification.</span></span>  <span data-ttu-id="17479-214">Vous pouvez limiter le problème en effectuant les opérations suivantes.</span><span class="sxs-lookup"><span data-stu-id="17479-214">You may mitigate the problem by completing the following actions.</span></span>  

1.  <span data-ttu-id="17479-215">Localisez le chemin d’accès dans lequel vous déployez le package de version fixe sur l’appareil de l’utilisateur, tel que l’emplacement suivant.</span><span class="sxs-lookup"><span data-stu-id="17479-215">Locate the path where you deploy the Fixed Version package on the user's device, such as the following location.</span></span>
    
    ```text
    D:\myapp\Microsoft.WebView2.FixedVersionRuntime.87.0.664.8.x64
    ```  
    
1.  <span data-ttu-id="17479-216">Exécutez les commandes suivantes sur l’appareil de l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="17479-216">Run the following commands on the user's device.</span></span>

    ```shell
    icacls {Fixed Version path} /grant *S-1-15-2-2:(OI)(CI)(RX)
    icacls {Fixed Version path} /grant *S-1-15-2-1:(OI)(CI)(RX)
    ```  

1.  <span data-ttu-id="17479-217">PlayReady doit être en cours d’exécution sur l’appareil de l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="17479-217">PlayReady should be working now on the user's device.</span></span>  <span data-ttu-id="17479-218">Dans l’onglet **sécurité** du dossier **version fixe** , vous devez inclure les autorisations pour `ALL APPLICATION PACKAGES` et `ALL RESTRICTED APPLICATION PACKAGES` .</span><span class="sxs-lookup"><span data-stu-id="17479-218">In the **Security** tab of the **Fixed Version** folder, it should include permissions for `ALL APPLICATION PACKAGES` and `ALL RESTRICTED APPLICATION PACKAGES`.</span></span>  

    :::image type="complex" source="../media/play-ready-permission.png" alt-text="Autorisation pour PlayReady" lightbox="../media/play-ready-permission.png":::
        <span data-ttu-id="17479-220">Autorisation pour PlayReady</span><span class="sxs-lookup"><span data-stu-id="17479-220">Permission for PlayReady</span></span>  
    :::image-end:::  

<!-- links -->  

[ConceptsVersioning]: ./versioning.md "Présentation des versions de navigateur et de WebView2 | Documents Microsoft"  
[HowtoWebdriver]: ../howto/webdriver.md "Automatisation et test de WebView2 avec le pilote Microsoft Edge | Documents Microsoft"  

[ReferenceWin32Webview2IdlCreatecorewebview2environmentwithoptions]: /microsoft-edge/webview2/reference/win32/webview2-idl#createcorewebview2environmentwithoptions "CreateCoreWebView2EnvironmentWithOptions-global | Documents Microsoft"  
[ReferenceWin32Webview2IdlGetavailablecorewebview2browserversionstring]: /microsoft-edge/webview2/reference/win32/webview2-idl#getavailablecorewebview2browserversionstring "GetAvailableCoreWebView2BrowserVersionString-global | Documents Microsoft"  

[DeployEdgeMicrosoftEdgeChannels]: /deployedge/microsoft-edge-channels "Vue d’ensemble des canaux Microsoft Edge | Documents Microsoft"  

[ReferenceDotnetMicrosoftWebWebview2CoreCorewebview2environmentCreateasync]: /dotnet/api/microsoft.web.webview2.core.corewebview2environment.createasync "CreateAsync-Microsoft. Web. WebView2. Core. CoreWebView2Environment classe | Documents Microsoft"  
[ReferenceWpfMicrosoftWebWebview2WpfWebview2Ensurecorewebview2async]: /dotnet/api/microsoft.web.webview2.wpf.webview2.ensurecorewebview2async "EnsureCoreWebView2Async-Microsoft. Web. WebView2. WPF. WebView2 classe | Documents Microsoft"  
[ReferenceWinformsMicrosoftWebWebview2WinformsWebview2Ensurecorewebview2async]: /dotnet/api/microsoft.web.webview2.winforms.webview2.ensurecorewebview2async "EnsureCoreWebView2Async-Microsoft. Web. WebView2. WinForms. WebView2 classe | Documents Microsoft"  
[ReferenceWpfMicrosoftWebWebview2WpfCorewebview2creationpropertiesCorewebview2creationproperties]: /dotnet/api/microsoft.web.webview2.wpf.corewebview2creationproperties "CoreWebView2CreationProperties-Microsoft. Web. WebView2. WPF. CoreWebView2CreationProperties classe | Documents Microsoft"  
[ReferenceWinFormsMicrosoftWebWebview2WinForms]: /dotnet/api/microsoft.web.webview2.winforms "Classe Microsoft. Web. WebView2. WinForms | Documents Microsoft"  
[ReferenceWpfMicrosoftWebWebview2WpfWebview2Creationproperties]: /dotnet/api/microsoft.web.webview2.wpf.webview2.creationproperties "CreationProperties-Microsoft. Web. WebView2. WPF. WebView2 classe | Documents Microsoft"  
[ReferenceWinFormsMicrosoftWebWebview2WinFormsWebview2]: /dotnet/api/microsoft.web.webview2.winforms.webview2 "Classe Microsoft. Web. WebView2. WinForms. WebView2 | Documents Microsoft"  

[Webview2Installer]: https://developer.microsoft.com/microsoft-edge/webview2 "Programme d’installation d’WebView2 | Développeur Microsoft"  

[DownloadNonstableEdge]: https://www.microsoftedgeinsider.com/download "Télécharger les canaux Microsoft Edge Insider"  

[GithubMicrosoftedgeWebviewfeedback]: https://github.com/MicrosoftEdge/WebViewFeedback "Commentaires sur le WebView | GitHub"  

[GitHubMicrosoftEdgeWebView2SamplesWebview2Deployment]: https://github.com/MicrosoftEdge/WebView2Samples#webview2-deployment "Déploiement de WebView2-MicrosoftEdge/WebView2Samples | GitHub"  

[MicrosoftPlayReady]: https://www.microsoft.com/playready "Microsoft PlayReady"  
