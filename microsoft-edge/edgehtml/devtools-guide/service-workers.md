---
description: Utiliser le panneau des travailleurs de services pour gérer et déboguer vos travailleurs de service
title: DevTools-débogueur-travailleurs de service
author: MSEdgeTeam
ms.author: msedgedevrel
ms.topic: article
ms.prod: microsoft-edge
keywords: Microsoft Edge, développement Web, outils F12, devtools, débogueur, débogage, PWA, travailleur de service, API de cache
ms.custom: seodec18
ms.date: 11/19/2020
ROBOTS: NOINDEX,NOFOLLOW
ms.openlocfilehash: 99592f787da8bcf89d2e16231aa3f39047b4fc0b
ms.sourcegitcommit: a35a6b5bbc21b7df61d08cbc6b074b5325ad4fef
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 12/17/2020
ms.locfileid: "11233260"
---
# <span data-ttu-id="f948d-104">Worker du service</span><span class="sxs-lookup"><span data-stu-id="f948d-104">Service Workers</span></span>

<span data-ttu-id="f948d-105">Le panneau **travailleurs de service** dispose d’outils permettant de gérer et de déboguer les travailleurs de service de votre site pour vous aider:</span><span class="sxs-lookup"><span data-stu-id="f948d-105">The **Service Workers** panel has tools for managing and debugging the service workers for your site, to help you:</span></span>

 - <span data-ttu-id="f948d-106">Obtenez une vue d’ensemble de tous les travailleurs de service associés à votre site et des détails de leur étendue et de leur état.</span><span class="sxs-lookup"><span data-stu-id="f948d-106">Get an overview of all the service workers associated with your site and details of their scope and status</span></span>
 - <span data-ttu-id="f948d-107">**Mettre à jour** et gérer (**désinscrire**) l’inscription du travailleur de service pour l’étendue donnée</span><span class="sxs-lookup"><span data-stu-id="f948d-107">**Update** and manage (**Unregister**) the service worker registration for the given scope</span></span>
 - <span data-ttu-id="f948d-108">**Diffuser** une notification de test</span><span class="sxs-lookup"><span data-stu-id="f948d-108">**Push** a test notification</span></span>
 - <span data-ttu-id="f948d-109">**Arrêt** / **Lancer** des travailleurs de service individuels et</span><span class="sxs-lookup"><span data-stu-id="f948d-109">**Stop**/**Start** individual service workers, and</span></span>
 - <span data-ttu-id="f948d-110">**Inspecter** le travailleur de service sélectionné dans une fenêtre de débogueur séparée</span><span class="sxs-lookup"><span data-stu-id="f948d-110">**Inspect** the selected service worker in a separate debugger window</span></span>

![Volet vue d’ensemble des travailleurs de services](./media/service_worker.png)

<span data-ttu-id="f948d-112">Notez les points suivants concernant le débogage des travailleurs de services dans Edge DevTools:</span><span class="sxs-lookup"><span data-stu-id="f948d-112">Please note the following about service worker debugging in Edge DevTools:</span></span>

 - <span data-ttu-id="f948d-113">Le débogage d’un ouvrier de service lancera une nouvelle instance du DevTools séparée des outils de la page, car les travailleurs de services peuvent être partagés entre plusieurs onglets.</span><span class="sxs-lookup"><span data-stu-id="f948d-113">Debugging a service worker will launch a new instance of the  DevTools separate from the page's tools because service workers can be shared across multiple tabs.</span></span>
 - <span data-ttu-id="f948d-114">Les [**éléments**](./elements.md) et les panneaux d' [**émulation**](./emulation.md) ne sont pas pris en tant que débogueur de service, car ils s’exécutent en arrière-plan et ne contrôlent pas directement le serveur principal de votre application.</span><span class="sxs-lookup"><span data-stu-id="f948d-114">The [**Elements**](./elements.md) and [**Emulation**](./emulation.md) panels are absent from the service worker debugger, given that service workers run in the background and do not directly control the front-end of your app.</span></span>
 - <span data-ttu-id="f948d-115">Pour le moment, le trafic réseau d’un ouvrier de service est uniquement signalé à partir de l’instance de débogage de DevTools pour ce travailleur et non à partir de l’instance de débogueur de la page elle-même.</span><span class="sxs-lookup"><span data-stu-id="f948d-115">Currently network traffic for a service worker is only reported from the  DevTools debugging instance for that worker, and not from the debugger instance for the page itself.</span></span>
 - <span data-ttu-id="f948d-116">Pour simuler une **Poussée** à partir du devtools, vous devez ajouter un écouteur d’événements de *type pousser* à votre travailleur de service afin d’observer son effet.</span><span class="sxs-lookup"><span data-stu-id="f948d-116">To simulate a **Push** from the DevTools, you'll need to add a *push* event listener to your service worker in order to observe its effect.</span></span> <span data-ttu-id="f948d-117">L’exemple suivant imprime «message envoyé par test de DevTools» dans la **console**de votre travailleur de service.</span><span class="sxs-lookup"><span data-stu-id="f948d-117">The following example will print "Test push message from DevTools" in your service worker **Console**.</span></span>

   ```JavaScript
   self.addEventListener('push', function(event){
       console.log(event.data.text());
   });
   ```

<span data-ttu-id="f948d-118">Voici quelques éléments généraux à garder à l’esprit lorsque vous utilisez des travailleurs de service:</span><span class="sxs-lookup"><span data-stu-id="f948d-118">Here are some general things to keep in mind when using service workers:</span></span>

- **<span data-ttu-id="f948d-119">HTTPs uniquement.</span><span class="sxs-lookup"><span data-stu-id="f948d-119">HTTPS-only.</span></span>** <span data-ttu-id="f948d-120">Les travailleurs de service ne fonctionnent pas dans HTTP; vous devrez utiliser HTTPs.</span><span class="sxs-lookup"><span data-stu-id="f948d-120">Service workers will not work in HTTP; you will need to use HTTPS.</span></span> <span data-ttu-id="f948d-121">Toutefois, vous pouvez enregistrer des travailleurs de service à des `localhost` fins de test.</span><span class="sxs-lookup"><span data-stu-id="f948d-121">However, you can register service workers on `localhost` for testing purposes.</span></span>

- **<span data-ttu-id="f948d-122">Aucun accès au DOM n’est autorisé.</span><span class="sxs-lookup"><span data-stu-id="f948d-122">No DOM access allowed.</span></span>** <span data-ttu-id="f948d-123">Comme pour les travailleurs Web, vous n’obtenez pas l’accès au modèle d’objet de la page.</span><span class="sxs-lookup"><span data-stu-id="f948d-123">As with web workers, you don't get access to the page's object model.</span></span> <span data-ttu-id="f948d-124">Cela signifie que si vous avez besoin de modifier des informations sur la page, vous devez l’utiliser à [`postMessage`](https://developer.mozilla.org/docs/Web/API/Worker/postMessage) partir du travailleur du service sur la page pour pouvoir gérer les modifications du DOM à partir de la page.</span><span class="sxs-lookup"><span data-stu-id="f948d-124">This means that if you need to change something about the page, you'll need to use [`postMessage`](https://developer.mozilla.org/docs/Web/API/Worker/postMessage) from the service worker to the page so that you can handle it DOM changes from the page.</span></span>

- **<span data-ttu-id="f948d-125">S’exécute séparément de la page.</span><span class="sxs-lookup"><span data-stu-id="f948d-125">Executes separate from page.</span></span>** <span data-ttu-id="f948d-126">Étant donné que ces scripts ne sont pas liés à la durée de vie d’une page, il est important de comprendre qu’ils ne partagent pas le même contexte que la page.</span><span class="sxs-lookup"><span data-stu-id="f948d-126">Because these scripts are not tied to the lifetime of a page, it's important to understand that they do not share the same context as the page.</span></span> <span data-ttu-id="f948d-127">Outre l’accès au DOM sans avoir accès au DOM (comme indiqué plus haut), il n’aura pas accès aux mêmes variables disponibles sur la page.</span><span class="sxs-lookup"><span data-stu-id="f948d-127">Aside from not having access to the DOM (as stated earlier), they won't have access to the same variables available on the page.</span></span>

- **<span data-ttu-id="f948d-128">Remplace le cache de l' *application*.</span><span class="sxs-lookup"><span data-stu-id="f948d-128">Overrides *App Cache*.</span></span>** <span data-ttu-id="f948d-129">Le cache d’application sera ignoré lorsque des travailleurs de service sont en cours d’utilisation.</span><span class="sxs-lookup"><span data-stu-id="f948d-129">App Cache will be ignored when service workers are in use.</span></span> <span data-ttu-id="f948d-130">L’API Worker worker est conçue pour supplanter entièrement le cache d’application en fournissant un contrôle plus précis au développeur Web.</span><span class="sxs-lookup"><span data-stu-id="f948d-130">The Service Worker API is intended to entirely supplant App Cache  by giving more granular control to the web developer.</span></span>

  - **<span data-ttu-id="f948d-131">Le script ne peut pas être sur le CDN.</span><span class="sxs-lookup"><span data-stu-id="f948d-131">Script can't be on CDN.</span></span>** <span data-ttu-id="f948d-132">Le fichier JavaScript pour le travailleur de service ne peut pas être hébergé sur un réseau de distribution de contenu (CDN), il doit figurer dans le même domaine que la page.</span><span class="sxs-lookup"><span data-stu-id="f948d-132">The JavaScript file for the service worker can't be hosted on a Content Distribution Network (CDN), it must be on the same domain as the page.</span></span> <span data-ttu-id="f948d-133">Néanmoins, si vous le souhaitez, vous pouvez importer des scripts à partir de votre réseau de distribution de contenu (CDN).</span><span class="sxs-lookup"><span data-stu-id="f948d-133">However, if you like, you can import scripts from your CDN.</span></span>

- **<span data-ttu-id="f948d-134">Peut être arrêté à tout moment.</span><span class="sxs-lookup"><span data-stu-id="f948d-134">Can be terminated any time.</span></span>** <span data-ttu-id="f948d-135">Les travailleurs de service sont censés être courts et leur durée de vie est liée à des événements.</span><span class="sxs-lookup"><span data-stu-id="f948d-135">Service workers are meant to be short-lived and their lifetime is tied to events.</span></span> <span data-ttu-id="f948d-136">En particulier, les travailleurs de service ont un délai dans lequel ils doivent terminer d’exécuter leurs gestionnaires d’événements.</span><span class="sxs-lookup"><span data-stu-id="f948d-136">In particular, service workers have a time limit in which they must finish executing their event handlers.</span></span> <span data-ttu-id="f948d-137">Dans d’autres cas, le navigateur ou le système d’exploitation est susceptible de mettre fin à un travailleur de service ayant un impact sur la batterie, le processeur ou la consommation de mémoire.</span><span class="sxs-lookup"><span data-stu-id="f948d-137">In other cases, the browser or the operating system may choose to terminate a service worker that impacts the battery, CPU, or memory consumption.</span></span> <span data-ttu-id="f948d-138">Dans les deux cas, évitez de dépendre des variables globales du script de travailleur de service au cas où une instance de travailleur de service différente est utilisée sur un événement ultérieur géré.</span><span class="sxs-lookup"><span data-stu-id="f948d-138">In either case, avoid relying on global variables in the service worker script in case a different service worker instance is used on a subsequent event that's being handled.</span></span>

- **<span data-ttu-id="f948d-139">Uniquement les requêtes asynchrones autorisées.</span><span class="sxs-lookup"><span data-stu-id="f948d-139">Only asynchronous requests allowed.</span></span>** <span data-ttu-id="f948d-140">Le XHR synchrone n’est pas autorisé ici.</span><span class="sxs-lookup"><span data-stu-id="f948d-140">Synchronous XHR is not allowed here!</span></span> <span data-ttu-id="f948d-141">Aucun d’entre eux n’est localStorage, il est donc préférable d’utiliser IndexedDB et la nouvelle API caches décrite plus haut.</span><span class="sxs-lookup"><span data-stu-id="f948d-141">Neither is localStorage, so it's best to make use of IndexedDB and the new Caches API described earlier.</span></span>

- **<span data-ttu-id="f948d-142">Le travailleur de service est 1:1.</span><span class="sxs-lookup"><span data-stu-id="f948d-142">Service worker to scope is 1:1.</span></span>** <span data-ttu-id="f948d-143">Vous ne pourrez avoir qu’un seul travailleur par étendue.</span><span class="sxs-lookup"><span data-stu-id="f948d-143">You'll only be able to have one service worker per scope.</span></span> <span data-ttu-id="f948d-144">Cela signifie que si vous tentez d’inscrire un autre travailleur de service pour une étendue qui possède déjà un travailleur de service, ce travailleur de service sera mis à jour.</span><span class="sxs-lookup"><span data-stu-id="f948d-144">That means if you try to register a different service worker for a scope that already has a service worker, that service worker will be updated.</span></span>
