---
description: En savoir plus sur la mise à jour de votre extension du manifeste v2 vers la version v3
title: Préparer la mise à jour de vos extensions du manifeste v2 au version v3
author: MSEdgeTeam
ms.author: msedgedevrel
ms.date: 10/13/2020
ms.topic: article
ms.prod: microsoft-edge
keywords: Edge-chrome, développement d’extensions, extensions latérales, extensions de navigateur, compléments, développeur, manifeste v3, migration vers le manifeste v3
ms.openlocfilehash: 262a5cab54dd23f596791c93ec1238619e247333
ms.sourcegitcommit: 1ad087b00df16fd7718a5d95226de57e29b335e1
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 10/14/2020
ms.locfileid: "11117827"
---
# <span data-ttu-id="8f791-104">Préparer la mise à jour de vos extensions du manifeste v2 au version v3</span><span class="sxs-lookup"><span data-stu-id="8f791-104">Prepare to update your extensions from Manifest v2 to v3</span></span> 

<span data-ttu-id="8f791-105">Ce document dresse la liste des modifications importantes qui sont implémentées dans le cadre du manifeste v3, qui est la version suivante de la plateforme d’extensions de chrome.</span><span class="sxs-lookup"><span data-stu-id="8f791-105">This document lists important changes that's being implemented as part of Manifest v3, which is the next version of the Chromium Extensions platform.</span></span> <span data-ttu-id="8f791-106">Nous allons mettre à jour ce document au fur et à mesure de l’avancement de l’implémentation.</span><span class="sxs-lookup"><span data-stu-id="8f791-106">We'll update this document as the implementation progresses.</span></span> <span data-ttu-id="8f791-107">Pour obtenir des instructions détaillées sur la migration de votre extension vers manifest v3, accédez à la [migration vers le manifeste v3][Google_Migrate_to_MV3].</span><span class="sxs-lookup"><span data-stu-id="8f791-107">For detailed guidance on migrating your extension to Manifest v3, navigate to [Migrating to Manifest V3][Google_Migrate_to_MV3].</span></span> 

## <span data-ttu-id="8f791-108">Code hébergé à distance</span><span class="sxs-lookup"><span data-stu-id="8f791-108">Remotely hosted code</span></span>  

<span data-ttu-id="8f791-109">Aujourd’hui, les extensions peuvent héberger des parties de leur code à distance, mais ne les incluent pas dans le cadre du processus de validation.</span><span class="sxs-lookup"><span data-stu-id="8f791-109">Today, extensions can host parts of their code remotely, and not include it as part of the extension package during the validation process.</span></span> <span data-ttu-id="8f791-110">Même si cela permet de modifier le code sans remettre l’extension dans le Windows Store, le code peut être exploité après l’installation.</span><span class="sxs-lookup"><span data-stu-id="8f791-110">While this offers flexibility to change code without resubmitting the extension to the store, the code can be exploited after installation.</span></span> <span data-ttu-id="8f791-111">Pour vous assurer que [les modules complémentaires Microsoft Edge][EdgeAddons] répertorient les extensions validées, nous n’autorisons pas les extensions à utiliser du Code hébergé à distance.</span><span class="sxs-lookup"><span data-stu-id="8f791-111">To ensure [Microsoft Edge Add-ons][EdgeAddons] lists validated extensions, we're disallowing extensions from using remotely hosted code.</span></span> <span data-ttu-id="8f791-112">Cette modification rend les extensions plus sûres.</span><span class="sxs-lookup"><span data-stu-id="8f791-112">This change makes extensions more secure.</span></span> <span data-ttu-id="8f791-113">Les développeurs doivent empaqueter et transmettre tout le code utilisé par l’extension de validation.</span><span class="sxs-lookup"><span data-stu-id="8f791-113">Developers will need to package and submit all code that's used by the extension for validation.</span></span> <span data-ttu-id="8f791-114">Par ailleurs, les développeurs peuvent utiliser la fonction eval () dans un [environnement en bac à sable (sandbox][sandboxingEval]).</span><span class="sxs-lookup"><span data-stu-id="8f791-114">Alternatively, developers can use the eval() function in a [sandboxed environment][sandboxingEval].</span></span> 

## <span data-ttu-id="8f791-115">Autorisations d’hébergement au moment de l’exécution</span><span class="sxs-lookup"><span data-stu-id="8f791-115">Run-time host permissions</span></span>  

<span data-ttu-id="8f791-116">Au moment de l’installation, les extensions pourront demander des autorisations d’accès permanent pour accéder à l’ensemble des sites et du contenu.</span><span class="sxs-lookup"><span data-stu-id="8f791-116">At installation time, extensions may request blanket permissions to access all sites and content.</span></span> <span data-ttu-id="8f791-117">Ces autorisations permettent les extensions de fonctionner avec le minimum d’intervention et créent un risque pour la confidentialité et la sécurité de l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="8f791-117">These permissions allow extensions to operate with minimum intervention, and create a risk to user privacy and security.</span></span> <span data-ttu-id="8f791-118">Pour améliorer la transparence, nous proposons des contrôles permettant aux utilisateurs d’autoriser ou de restreindre l’accès aux sites Web lors de l’exécution.</span><span class="sxs-lookup"><span data-stu-id="8f791-118">To improve transparency, we're providing controls for users to allow or restrict access to websites at runtime.</span></span> 

## <span data-ttu-id="8f791-119">Demandes d’origine dans les scripts de contenu</span><span class="sxs-lookup"><span data-stu-id="8f791-119">Cross-origin requests in content scripts</span></span>  

<span data-ttu-id="8f791-120">Les scripts de contenu du jour peuvent demander l’accès à toute origine, y compris les origines qui ne sont pas autorisées par le site Web.</span><span class="sxs-lookup"><span data-stu-id="8f791-120">Today content scripts can request access to any origin including origins that aren't allowed by the website.</span></span> <span data-ttu-id="8f791-121">Ce comportement décompose les principes d’origine croisée.</span><span class="sxs-lookup"><span data-stu-id="8f791-121">This behavior breaks cross-origin principles.</span></span> <span data-ttu-id="8f791-122">À l’avenir, nous aurons besoin de scripts de contenu pour utiliser les mêmes autorisations que celles de la page dans laquelle elles sont injectées, ce qui a provoqué une faille de sécurité potentielle.</span><span class="sxs-lookup"><span data-stu-id="8f791-122">Going forward, we'll require content scripts to have the same permissions as the page they're injected into, closing a potential security loophole.</span></span> <span data-ttu-id="8f791-123">Pour effectuer des demandes d’exécution croisée, vous devez utiliser des scripts en arrière-plan pour relayer les réponses aux scripts de contenu.</span><span class="sxs-lookup"><span data-stu-id="8f791-123">To perform cross-origin requests, you'll need to use background scripts to relay responses back to content scripts.</span></span> <span data-ttu-id="8f791-124">Ces modifications sont disponibles et derrière un indicateur.</span><span class="sxs-lookup"><span data-stu-id="8f791-124">These changes are available and behind a flag.</span></span> <span data-ttu-id="8f791-125">Pour plus d’informations, accédez à ce [document][CORS].</span><span class="sxs-lookup"><span data-stu-id="8f791-125">For more information, navigate to this [document][CORS].</span></span> 

## <span data-ttu-id="8f791-126">API de requête Web</span><span class="sxs-lookup"><span data-stu-id="8f791-126">Web Request API</span></span>  

<span data-ttu-id="8f791-127">Nous remplaçons l' [API de requête Web][WebRequestAPI] par une [API de requête net déclarative][DeclarativeNetRequestAPI], mais les fonctionnalités de observational de l’API de requête Web seront maintenues.</span><span class="sxs-lookup"><span data-stu-id="8f791-127">We're replacing [Web Request API][WebRequestAPI] with [Declarative Net Request API][DeclarativeNetRequestAPI], but will continue to keep Web Request API's observational capabilities.</span></span> <span data-ttu-id="8f791-128">À l’exception des scénarios spécifiques dans lesquels les fonctionnalités observational de l’API de requête Web sont requises par l’extension, nous vous recommandons d’utiliser les API DNR uniquement.</span><span class="sxs-lookup"><span data-stu-id="8f791-128">Except in some specific scenarios where observational capabilities of the Web Request API are required by the extension, we recommend using the DNR APIs only.</span></span> <span data-ttu-id="8f791-129">Nous pensons que cette modification aura un impact positif sur les extensions qui utilisent des fonctionnalités déclaratives riches en fonctionnalités.</span><span class="sxs-lookup"><span data-stu-id="8f791-129">We believe this change will have positive impact on extensions that use feature-rich declarative capabilities.</span></span> <span data-ttu-id="8f791-130">Dans la mesure où de plus en plus d’extensions seront transférées vers les API DNR, cette modification améliorera la confidentialité des utilisateurs, ce qui contribue à améliorer la fiabilité de l’utilisation des extensions.</span><span class="sxs-lookup"><span data-stu-id="8f791-130">As more extensions transition to the DNR APIs, this change will improve user privacy, which contributes to enhancing trust in the use of extensions.</span></span>
<span data-ttu-id="8f791-131">Les entreprises peuvent continuer à utiliser le comportement de blocage de l’API de requête Web pour les extensions gérées par le biais des stratégies d’entreprise.</span><span class="sxs-lookup"><span data-stu-id="8f791-131">Enterprises can continue to use the blocking behavior of the Web Request API for extensions managed through enterprise policies.</span></span> <span data-ttu-id="8f791-132">Pour plus d’informations sur les stratégies d’extension, accédez à [Microsoft Edge-politiques][MicrosoftEdgePolicies].</span><span class="sxs-lookup"><span data-stu-id="8f791-132">For more information about extension policies, navigate to [Microsoft Edge – Policies][MicrosoftEdgePolicies].</span></span> 

## <span data-ttu-id="8f791-133">Travailleurs de services en arrière-plan</span><span class="sxs-lookup"><span data-stu-id="8f791-133">Background service workers</span></span>  
 
<span data-ttu-id="8f791-134">Les travailleurs de services peuvent être testés au Canaries.</span><span class="sxs-lookup"><span data-stu-id="8f791-134">Service workers are available for testing in Canary.</span></span> <span data-ttu-id="8f791-135">Pour migrer vos extensions des pages d’arrière-plan vers des travailleurs de service, voir [migrer des pages d’arrière-plan vers des travailleurs de service][ServiceWorkers].</span><span class="sxs-lookup"><span data-stu-id="8f791-135">To migrate your extensions from background pages to service workers, refer to [Migrating from Background Pages to Service Workers][ServiceWorkers].</span></span> <span data-ttu-id="8f791-136">Nous estimons & d’avoir examiné l’impact que ce changement apporte aux développeurs et aux utilisateurs.</span><span class="sxs-lookup"><span data-stu-id="8f791-136">We're evaluating & investigating the impact that this change brings to both developers and users.</span></span> <span data-ttu-id="8f791-137">Nous ajouterons des informations supplémentaires sur cette modification à ce document à l’avenir.</span><span class="sxs-lookup"><span data-stu-id="8f791-137">We'll add  additional details on this change to this document in the future.</span></span> 

## <span data-ttu-id="8f791-138">Quelles sont les modifications disponibles dans Microsoft Edge?</span><span class="sxs-lookup"><span data-stu-id="8f791-138">When will these changes be available in Microsoft Edge?</span></span>

<span data-ttu-id="8f791-139">L’implémentation actuelle de l’API de requête NET déclaratif est disponible dans nos canaux stables et beta.</span><span class="sxs-lookup"><span data-stu-id="8f791-139">The current declarative net request API implementation is available in our Stable and Beta channels.</span></span> <span data-ttu-id="8f791-140">Les développeurs peuvent tester ces modifications et transmettre des commentaires.</span><span class="sxs-lookup"><span data-stu-id="8f791-140">Developers can test these changes, and provide feedback.</span></span> <span data-ttu-id="8f791-141">Nous allons contribuer aux efforts de développement et étudier les changements ultérieurs.</span><span class="sxs-lookup"><span data-stu-id="8f791-141">We'll contribute to development efforts and investigate further changes.</span></span> 

| <span data-ttu-id="8f791-142">Nom du canal</span><span class="sxs-lookup"><span data-stu-id="8f791-142">Channel name</span></span> | <span data-ttu-id="8f791-143">Description</span><span class="sxs-lookup"><span data-stu-id="8f791-143">Description</span></span> |
|:--- |:--- |  
| <span data-ttu-id="8f791-144">Microsoft Edge 84 stable</span><span class="sxs-lookup"><span data-stu-id="8f791-144">Microsoft Edge 84 Stable</span></span> | <span data-ttu-id="8f791-145">L’API DNR est disponible pour le test</span><span class="sxs-lookup"><span data-stu-id="8f791-145">DNR API is available for testing</span></span> |  
| <span data-ttu-id="8f791-146">Microsoft Edge 85 Beta</span><span class="sxs-lookup"><span data-stu-id="8f791-146">Microsoft Edge 85 Beta</span></span> | <span data-ttu-id="8f791-147">La prise en charge du changement d’en-tête est disponible</span><span class="sxs-lookup"><span data-stu-id="8f791-147">Header modification support is available</span></span>| 

<span data-ttu-id="8f791-148">Lorsque les modifications sont apportées au chrome, nous partageons les chronologies pour permettre aux développeurs de mettre à jour leur code et de republier les extensions dans le Windows Store.</span><span class="sxs-lookup"><span data-stu-id="8f791-148">When the changes are made to Chromium, we'll share timelines so that developers can update their code and republish extensions to the store.</span></span> 

<span data-ttu-id="8f791-149">Nous allons continuer à publier des mises à jour sur notre blog.</span><span class="sxs-lookup"><span data-stu-id="8f791-149">We'll continue publishing updates on our blog.</span></span> <span data-ttu-id="8f791-150">Vous pouvez fournir vos commentaires sur ces modifications par le biais de [TechCommunity][TechCommunity].</span><span class="sxs-lookup"><span data-stu-id="8f791-150">You can provide your feedback on these changes through [TechCommunity][TechCommunity].</span></span>

<!-- links -->  

[EdgeAddons]: https://microsoftedge.microsoft.com/addons/ "Modules complémentaires Microsoft Edge"  
[MicrosoftBlog]: https://blogs.windows.com/windowsexperience/2018/12/06/microsoft-edge-making-the-web-better-through-more-open-source-collaboration/  
[MicrosoftEdgePolicies]: https://docs.microsoft.com/deployedge/microsoft-edge-policies#extensions 

[TechCommunity]: https://techcommunity.microsoft.com/t5/articles/manifest-v3-changes-are-now-available-in-microsoft-edge/m-p/1780254 "Communauté technologique"  


[Google_Migrate_to_MV3]: https://developer.chrome.com/extensions/migrating_to_manifest_v3   
[SandboxingEval]: https://developer.chrome.com/apps/sandboxingEval "Utilisation de eval dans les extensions chrome. En toute sécurité."
[CORS]: https://www.chromium.org/Home/chromium-security/extension-content-script-fetches "Modifications apportées aux demandes d’interrogation dans les scripts de contenu d’extension"
[WebRequestAPI]: https://developer.chrome.com/extensions/webRequest "API de requête Web"  
[DeclarativeNetRequestAPI]: https://developer.chrome.com/extensions/declarativeNetRequest/ "API de requête NET déclaratif"
[ServiceWorkers]:  https://developers.chrome.com/extensions/migrating_to_service_workers


