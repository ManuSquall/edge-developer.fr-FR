---
description: Découvrez les meilleures pratiques de développement à utiliser lors du développement de votre application WebView2.
title: Meilleures pratiques de développement WebView2
author: MSEdgeTeam
ms.author: msedgedevrel
ms.date: 03/04/2021
ms.topic: conceptual
ms.prod: microsoft-edge
ms.technology: webview
keywords: WebView2, webview2, WebView, webview, edge, meilleures pratiques
ms.openlocfilehash: 5a09d48cc9972a310c865fcdd6c10e4ed96451fc
ms.sourcegitcommit: b51df5036642060525e03cd744b7d35726326abe
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 04/29/2021
ms.locfileid: "11526095"
---
# <a name="webview2-development-best-practices"></a><span data-ttu-id="9ae7a-104">Meilleures pratiques de développement WebView2</span><span class="sxs-lookup"><span data-stu-id="9ae7a-104">WebView2 development best practices</span></span>  

<span data-ttu-id="9ae7a-105">Chaque équipe de développement suit différentes pratiques lors de la création de son application.</span><span class="sxs-lookup"><span data-stu-id="9ae7a-105">Every development team follows different practices when building their application.</span></span> <span data-ttu-id="9ae7a-106">Lorsque vous créez des applications WebView2, nous vous recommandons de suivre certaines pratiques.</span><span class="sxs-lookup"><span data-stu-id="9ae7a-106">When you build WebView2 applications, there are practices we recommend you follow.</span></span> <span data-ttu-id="9ae7a-107">Cet article décrit ces recommandations et meilleures pratiques pour vous lors de la création d'applications WebView2 basées sur la production.</span><span class="sxs-lookup"><span data-stu-id="9ae7a-107">This article outlines those recommendations and best practices for you when building production-based WebView2 applications.</span></span>


## <a name="use-evergreen-webview2-runtime-recommended"></a><span data-ttu-id="9ae7a-108">Utiliser le runtime WebView2 persistant (recommandé)</span><span class="sxs-lookup"><span data-stu-id="9ae7a-108">Use Evergreen WebView2 Runtime (recommended)</span></span>  

<span data-ttu-id="9ae7a-109">Bien que la version fixe ait des cas d'utilisation pour les applications qui ont des exigences de compatibilité strictes, nous vous recommandons généralement d'utiliser le runtime WebView2 persistant.</span><span class="sxs-lookup"><span data-stu-id="9ae7a-109">While Fixed Version has its use cases for apps that have strict compatibility requirements, we generally recommend using the Evergreen WebView2 Runtime.</span></span>  <span data-ttu-id="9ae7a-110">Le runtime WebView2 persistant se met à jour automatiquement et inclut les dernières fonctionnalités et correctifs de sécurité disponibles pour votre application WebView2.</span><span class="sxs-lookup"><span data-stu-id="9ae7a-110">The Evergreen WebView2 Runtime updates automatically and includes the latest features and security patches available to your WebView2 application.</span></span> <span data-ttu-id="9ae7a-111">Le runtime WebView2 persistant nécessite également moins d'espace de stockage sur le disque.</span><span class="sxs-lookup"><span data-stu-id="9ae7a-111">The Evergreen WebView2 Runtime also requires less storage space on the disk.</span></span>

<span data-ttu-id="9ae7a-112">Assurez-vous que le runtime WebView2 persistant est installé avant d'utiliser votre application WebView2.</span><span class="sxs-lookup"><span data-stu-id="9ae7a-112">Ensure the Evergreen WebView2 Runtime is installed before using your WebView2 application.</span></span>  <span data-ttu-id="9ae7a-113">Pour plus d'informations, [accédez à Déployer le runtime WebView2][Webview2ConceptsDistributionDeployingEvergreenWebview2Runtime]persistant.</span><span class="sxs-lookup"><span data-stu-id="9ae7a-113">For more information, navigate to [Deploying the Evergreen WebView2 Runtime][Webview2ConceptsDistributionDeployingEvergreenWebview2Runtime].</span></span>  

## <a name="run-compatibility-tests-regularly-when-using-the-evergreen-webview2-runtime"></a><span data-ttu-id="9ae7a-114">Exécuter des tests de compatibilité régulièrement lors de l'utilisation du runtime WebView2 persistant</span><span class="sxs-lookup"><span data-stu-id="9ae7a-114">Run compatibility tests regularly when using the Evergreen WebView2 Runtime</span></span>

<span data-ttu-id="9ae7a-115">Lorsque vous utilisez le runtime WebView2 persistant, veillez à exécuter des tests de compatibilité réguliers.</span><span class="sxs-lookup"><span data-stu-id="9ae7a-115">When using the Evergreen WebView2 Runtime, ensure you run regular compatibility tests.</span></span> <span data-ttu-id="9ae7a-116">Étant donné que le runtime se met à jour automatiquement, testez le contenu web dans le contrôle WebView2 par rapport aux versions non stables de Microsoft Edge pour vous assurer que votre application WebView2 s'exécute comme prévu.</span><span class="sxs-lookup"><span data-stu-id="9ae7a-116">Because the runtime updates automatically, test the web content in the WebView2 control against the non-stable versions of Microsoft Edge to ensure that your WebView2 application performs as expected.</span></span> <span data-ttu-id="9ae7a-117">Ces conseils sont semblables aux instructions que nous donnez aux développeurs web.</span><span class="sxs-lookup"><span data-stu-id="9ae7a-117">This guidance is similar to the guidance that we give to web developers.</span></span> <span data-ttu-id="9ae7a-118">Pour plus d'informations, accédez [à Rester compatible en mode persistant.][Webview2ConceptsDistributionStayCompatibleEvergreenMode]</span><span class="sxs-lookup"><span data-stu-id="9ae7a-118">For more information, navigate to [Stay compatible in Evergreen mode][Webview2ConceptsDistributionStayCompatibleEvergreenMode].</span></span>

## <a name="ensure-apis-are-supported-by-the-installed-webview2-runtime"></a><span data-ttu-id="9ae7a-119">S'assurer que les API sont pris en charge par le runtime WebView2 installé</span><span class="sxs-lookup"><span data-stu-id="9ae7a-119">Ensure APIs are supported by the installed WebView2 Runtime</span></span>

<span data-ttu-id="9ae7a-120">Les applications WebView2 ont besoin d'un SDK Webview2 et d'un runtime WebView2 installé sur l'ordinateur pour s'exécuter.</span><span class="sxs-lookup"><span data-stu-id="9ae7a-120">WebView2 applications need both a Webview2 SDK, and a WebView2 Runtime installed on the computer to run.</span></span> <span data-ttu-id="9ae7a-121">La version du SDK et du runtime est la même.</span><span class="sxs-lookup"><span data-stu-id="9ae7a-121">Both the SDK and the runtime are versioned.</span></span> <span data-ttu-id="9ae7a-122">Étant donné que les API sont continuellement ajoutées à WebView2, de nouvelles versions du runtime sont également publiées pour prendre en charge les nouvelles API.</span><span class="sxs-lookup"><span data-stu-id="9ae7a-122">Since APIs are continually being added to WebView2, new versions of the runtime are also released to support the new APIs.</span></span> <span data-ttu-id="9ae7a-123">Vous devez vous assurer que les API utilisées par votre application WebView2 sont pris en charge par le runtime WebView2 installé sur l'ordinateur.</span><span class="sxs-lookup"><span data-stu-id="9ae7a-123">You'll need to ensure that the APIs used by your WebView2 application are supported by the WebView2 Runtime that's installed on the computer.</span></span> 

<span data-ttu-id="9ae7a-124">Si vous utilisez le runtime WebView2 persistant, il se peut que le runtime ne soit pas mis à jour pour utiliser la dernière version.</span><span class="sxs-lookup"><span data-stu-id="9ae7a-124">If you use the Evergreen WebView2 Runtime, there are some scenarios where the runtime may not be updated to use the latest version.</span></span> <span data-ttu-id="9ae7a-125">Par exemple, lorsque les utilisateurs n'ont pas accès à Internet, le runtime n'est pas automatiquement mis à jour dans cet environnement.</span><span class="sxs-lookup"><span data-stu-id="9ae7a-125">For example, when users don't have internet access, the runtime isn't  automatically updated in that environment.</span></span> <span data-ttu-id="9ae7a-126">En outre, l'utilisation de certaines stratégies de groupe interrompt les mises à jour WebView2.</span><span class="sxs-lookup"><span data-stu-id="9ae7a-126">Additionally, using some group policies pause WebView2 updates.</span></span> <span data-ttu-id="9ae7a-127">Lorsque vous pushez une mise à jour vers votre application WebView2, l'application peut se rompre car elle utilise des API plus nouvelles qui ne sont pas disponibles dans le runtime installé.</span><span class="sxs-lookup"><span data-stu-id="9ae7a-127">When you push an update to your WebView2 application, the application may break because it uses newer APIs that are not available in the installed runtime.</span></span>   
 
<span data-ttu-id="9ae7a-128">Pour résoudre cette situation, vous pouvez tester la disponibilité des API dans le runtime installé, avant que votre code appelle l'API.</span><span class="sxs-lookup"><span data-stu-id="9ae7a-128">To solve this situation, you can test for the availability of the APIs in the installed runtime, before your code calls the API.</span></span> <span data-ttu-id="9ae7a-129">Ce test pour les nouvelles fonctionnalités est similaire à d'autres meilleures pratiques de développement web qui détectent les fonctionnalités prise en charge avant d'utiliser de nouvelles API web.</span><span class="sxs-lookup"><span data-stu-id="9ae7a-129">This test for newer functionality is similar to other web development best practices that detect supported features before using new web APIs.</span></span> <span data-ttu-id="9ae7a-130">Pour tester la disponibilité de l'API dans le runtime installé, utilisez :</span><span class="sxs-lookup"><span data-stu-id="9ae7a-130">To test for API availability in the installed runtime, use:</span></span>
* <span data-ttu-id="9ae7a-131">En `queryinterface` C/C++.</span><span class="sxs-lookup"><span data-stu-id="9ae7a-131">The `queryinterface` in C/C++.</span></span> 
* <span data-ttu-id="9ae7a-132">Bloc try/catch dans .NET ou WinUI.</span><span class="sxs-lookup"><span data-stu-id="9ae7a-132">A try/catch block in .NET or WinUI.</span></span> 
    
<span data-ttu-id="9ae7a-133">Pour plus d'informations, [accédez à Déterminer la condition d'runtime WebView2.][Webview2ConceptsVersioningDetermineWebview2RuntimeRequirement]</span><span class="sxs-lookup"><span data-stu-id="9ae7a-133">For more information, navigate to [Determine WebView2 Runtime requirement][Webview2ConceptsVersioningDetermineWebview2RuntimeRequirement].</span></span>  

## <a name="update-the-fixed-version-runtime"></a><span data-ttu-id="9ae7a-134">Mettre à jour le runtime de version fixe</span><span class="sxs-lookup"><span data-stu-id="9ae7a-134">Update the Fixed Version Runtime</span></span>  

<span data-ttu-id="9ae7a-135">Si vous utilisez le runtime de version fixe, veillez à mettre à jour votre runtime régulièrement pour réduire les risques potentiels de sécurité.</span><span class="sxs-lookup"><span data-stu-id="9ae7a-135">If you use the Fixed Version Runtime, ensure you update your runtime regularly to reduce any potential security risk.</span></span> <span data-ttu-id="9ae7a-136">Lorsque vous utilisez du contenu tiers dans les applications Webview2, pensez toujours au contenu non confiance.</span><span class="sxs-lookup"><span data-stu-id="9ae7a-136">When using 3rd-party content in Webview2 applications, always consider the content untrusted.</span></span>  <span data-ttu-id="9ae7a-137">Pour plus d'informations, accédez [au mode de distribution version fixe.][Webview2ConceptsDistributionFixedVersionDistributionMode]</span><span class="sxs-lookup"><span data-stu-id="9ae7a-137">For more information, navigate to [Fixed Version distribution mode][Webview2ConceptsDistributionFixedVersionDistributionMode].</span></span>  

## <a name="manage-new-versions-of-the-runtime"></a><span data-ttu-id="9ae7a-138">Gérer les nouvelles versions du runtime</span><span class="sxs-lookup"><span data-stu-id="9ae7a-138">Manage new versions of the runtime</span></span>  

<span data-ttu-id="9ae7a-139">Chaque fois qu'une nouvelle version du runtime WebView2 persistant est téléchargée sur l'appareil, l'exécution des applications WebView2 continue d'utiliser le runtime précédent jusqu'à ce que le processus du navigateur soit publié.</span><span class="sxs-lookup"><span data-stu-id="9ae7a-139">Whenever a new version of the Evergreen WebView2 Runtime is downloaded to the device, running WebView2 applications continue using the previous runtime until the browser process is released.</span></span> <span data-ttu-id="9ae7a-140">Ce comportement permet aux applications de s'exécuter en continu et empêche la suppression du runtime précédent.</span><span class="sxs-lookup"><span data-stu-id="9ae7a-140">This behavior allows applications to run continuously, and prevents the previous runtime from being deleted.</span></span> <span data-ttu-id="9ae7a-141">Pour utiliser la nouvelle version du runtime, vous devez libérer toutes les références aux objets d'environnement WebView2 précédents ou redémarrer votre application.</span><span class="sxs-lookup"><span data-stu-id="9ae7a-141">To use the new version of the runtime, you'll need to release all references to the previous WebView2 environment objects or restart your application.</span></span> <span data-ttu-id="9ae7a-142">La prochaine fois que vous créerez un environnement WebView2, il utilisera la nouvelle version.</span><span class="sxs-lookup"><span data-stu-id="9ae7a-142">The next time you create a new WebView2 environment, it will use the new version.</span></span>

<span data-ttu-id="9ae7a-143">Pour prendre des mesures lorsqu'une nouvelle version est disponible, comme avertir l'utilisateur de redémarrer l'application, vous pouvez utiliser l'événement [add_NewBrowserVersionAvailable(Win32)][Webview2ReferenceaddNewBrowserVersionAvailable] ou [CoreWebView2Environment.NewBrowserVersionAvailable(.NET)][Webview2ReferenceNewBrowserVersionAvailable] dans votre code.</span><span class="sxs-lookup"><span data-stu-id="9ae7a-143">To take action when a new version is available, such as notifying the user to restart the application, you can use the [add_NewBrowserVersionAvailable(Win32)][Webview2ReferenceaddNewBrowserVersionAvailable] or [CoreWebView2Environment.NewBrowserVersionAvailable(.NET)][Webview2ReferenceNewBrowserVersionAvailable] event in your code.</span></span> <span data-ttu-id="9ae7a-144">Si votre code gère le redémarrage de l'application, envisagez d'enregistrer l'état de l'utilisateur avant la sortie de l'application WebView2.</span><span class="sxs-lookup"><span data-stu-id="9ae7a-144">If your code handles restarting the application, consider saving the user state before the WebView2 application exits.</span></span>  

## <a name="manage-the-lifetime-of-the-user-data-folder"></a><span data-ttu-id="9ae7a-145">Gérer la durée de vie du dossier de données utilisateur</span><span class="sxs-lookup"><span data-stu-id="9ae7a-145">Manage the lifetime of the user data folder</span></span> 
<span data-ttu-id="9ae7a-146">Les applications WebView2 créent un dossier de données utilisateur pour stocker des données telles que les cookies, les informations d'identification, les autorisations, etc.</span><span class="sxs-lookup"><span data-stu-id="9ae7a-146">WebView2 apps create a user data folder to store data such as cookies, credentials, permissions, and so on.</span></span> <span data-ttu-id="9ae7a-147">Après avoir créé le dossier, votre application est responsable de la gestion de la durée de vie du dossier de données utilisateur, y compris du nettoyage lorsque l'application est désinstallée.</span><span class="sxs-lookup"><span data-stu-id="9ae7a-147">After creating the folder, your app is responsible for managing the lifetime of the user data folder, including clean up when the app is uninstalled.</span></span>  <span data-ttu-id="9ae7a-148">Pour plus d'informations, [accédez à Gestion du dossier de données utilisateur.][Webview2ConceptsUserdatafolder]</span><span class="sxs-lookup"><span data-stu-id="9ae7a-148">For more information, navigate to [Managing the User Data Folder][Webview2ConceptsUserdatafolder].</span></span>  

## <a name="follow-recommended-webview2-security-best-practices"></a><span data-ttu-id="9ae7a-149">Respecter les meilleures pratiques recommandées en matière de sécurité WebView2</span><span class="sxs-lookup"><span data-stu-id="9ae7a-149">Follow recommended WebView2 security best practices</span></span> 
<span data-ttu-id="9ae7a-150">Pour n'importe quelle application WebView2, veillez à respecter les meilleures pratiques recommandées en matière de sécurité WebView2.</span><span class="sxs-lookup"><span data-stu-id="9ae7a-150">For any WebView2 application, ensure you follow our recommended WebView2 security best practices.</span></span>  <span data-ttu-id="9ae7a-151">Pour plus d'informations, [accédez aux meilleures pratiques pour le développement d'applications WebView2 sécurisées.][Webview2ConceptsSecurity]</span><span class="sxs-lookup"><span data-stu-id="9ae7a-151">For more information, navigate to [Best practices for developing secure WebView2 applications][Webview2ConceptsSecurity].</span></span>  


<!-- links -->  

[Webview2ConceptsDistributionDeployingEvergreenWebview2Runtime]: ../concepts/distribution.md#deploying-the-evergreen-webview2-runtime "Déploiement du runtime WebView2 persistant : distribution d'applications à l'aide de WebView2 | Documents Microsoft"  
[Webview2ConceptsDistributionFixedVersionDistributionMode]: ../concepts/distribution.md#fixed-version-distribution-mode "Mode de distribution de version fixe : distribution des applications à l'aide de WebView2 | Documents Microsoft"  
[Webview2ConceptsDistributionStayCompatibleEvergreenMode]: ../concepts/distribution.md#stay-compatible-in-evergreen-mode "Restez compatible en mode persistant : distribution d'applications à l'aide de WebView2 | Documents Microsoft"  
[Webview2ConceptsSecurity]: ../concepts/security.md "Meilleures pratiques pour le développement d'applications WebView2 sécurisées | Documents Microsoft"  
[Webview2ConceptsUserdatafolder]: ../concepts/userdatafolder.md "Gestion du dossier de données utilisateur | Documents Microsoft"  
[Webview2ConceptsVersioningDetermineWebview2RuntimeRequirement]: ../concepts/versioning.md#determine-webview2-runtime-requirement "Déterminer l'exigence d'runtime WebView2 : comprendre les versions du SDK WebView2 | Documents Microsoft"  
[Webview2GettingstartedWin32]: ../gettingstarted/win32.md "Getting started with WebView2 | Documents Microsoft"  
[Webview2GettingstartedWinforms]: ../gettingstarted/winforms.md "Mise en place de WebView2 dans Windows Forms | Documents Microsoft"  
[Webview2GettingstartedWinui]: ../gettingstarted/winui.md "Getting started with WebView2 in WinUI 3 (Preview) | Documents Microsoft"  
[Webview2GettingstartedWpf]: ../gettingstarted/wpf.md "Mise en place de WebView2 dans WPF | Documents Microsoft"  
[Webview2ReferenceaddNewBrowserVersionAvailable]: https://docs.microsoft.com/microsoft-edge/webview2/reference/win32/icorewebview2environment#add_newbrowserversionavailable "add_NewBrowserVersionAvailable | Documents Microsoft"  
[Webview2ReferenceNewBrowserVersionAvailable]: https://docs.microsoft.com/dotnet/api/microsoft.web.webview2.core.corewebview2environment.newbrowserversionavailable "Événement CoreWebView2Environment.NewBrowserVersionAvailable | Documents Microsoft"  