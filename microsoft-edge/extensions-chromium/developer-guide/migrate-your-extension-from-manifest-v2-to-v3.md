---
description: En savoir plus sur la mise à jour de votre extension du manifeste V2 vers V3
title: Préparer la mise à jour de vos extensions du manifeste V2 vers V3
author: MSEdgeTeam
ms.author: msedgedevrel
ms.date: 05/11/2020
ms.topic: article
ms.prod: microsoft-edge
keywords: edge-chromium, développement d’extensions, extensions edge, extensions de navigateur, addons, développeur, manifeste v3, migrer vers le manifeste v3
ms.openlocfilehash: 5aa1aa7446a312d581bacc4fa19ba7362c6c2a3e
ms.sourcegitcommit: 7945939c29dfdd414020f8b05936f605fa2b640e
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 05/13/2021
ms.locfileid: "11564615"
---
# <a name="prepare-to-update-your-extensions-from-manifest-v2-to-v3"></a><span data-ttu-id="3f265-104">Préparer la mise à jour de vos extensions du manifeste v2 vers v3</span><span class="sxs-lookup"><span data-stu-id="3f265-104">Prepare to update your extensions from Manifest v2 to v3</span></span>  

<span data-ttu-id="3f265-105">Ce document répertorie les modifications importantes implémentées dans le cadre du manifeste v3, qui est la prochaine version de la plateforme Chromium Extensions.</span><span class="sxs-lookup"><span data-stu-id="3f265-105">This document lists important changes being implemented as part of Manifest v3, which is the next version of the Chromium Extensions platform.</span></span>  <span data-ttu-id="3f265-106">L Microsoft Edge d’extensions de service met à jour ce document au fur et à mesure de la progression de l’implémentation.</span><span class="sxs-lookup"><span data-stu-id="3f265-106">The Microsoft Edge extensions team updates this document as the implementation progresses.</span></span>  <span data-ttu-id="3f265-107">Pour obtenir des instructions détaillées sur la migration de votre extension vers manifeste v3, accédez à [La migration vers manifeste V3][ChromeDeveloperDocsExtensionsMv3Mv3MigrationChecklist].</span><span class="sxs-lookup"><span data-stu-id="3f265-107">For detailed guidance on migrating your extension to Manifest v3, navigate to [Migrating to Manifest V3][ChromeDeveloperDocsExtensionsMv3Mv3MigrationChecklist].</span></span>  

## <a name="remotely-hosted-code"></a><span data-ttu-id="3f265-108">Code hébergé à distance</span><span class="sxs-lookup"><span data-stu-id="3f265-108">Remotely hosted code</span></span>  

<span data-ttu-id="3f265-109">Aujourd’hui, certaines parties du code des extensions sont hébergées à distance et ne l’incluent pas dans le package d’extension pendant le processus de validation.</span><span class="sxs-lookup"><span data-stu-id="3f265-109">Today, parts of the extensions code is hosted remotely, and not include it as part of the extension package during the validation process.</span></span>  <span data-ttu-id="3f265-110">Bien que cela offre de la flexibilité pour modifier le code sans resoumettre l’extension dans le magasin, le code peut être exploité après l’installation.</span><span class="sxs-lookup"><span data-stu-id="3f265-110">While this offers flexibility to change code without resubmitting the extension to the store, the code may be exploited after installation.</span></span>  <span data-ttu-id="3f265-111">Pour [s’Microsoft Edge listes d’extensions][MicrosoftMicrosoftedgeAddons] validées, l’équipe des extensions Microsoft Edge les extensions ne permet pas aux extensions d’utiliser du code hébergé à distance.</span><span class="sxs-lookup"><span data-stu-id="3f265-111">To ensure [Microsoft Edge Add-ons][MicrosoftMicrosoftedgeAddons] lists validated extensions, the Microsoft Edge extensions team disallows extensions from using remotely hosted code.</span></span>  <span data-ttu-id="3f265-112">Cette modification rend les extensions plus sécurisées.</span><span class="sxs-lookup"><span data-stu-id="3f265-112">This change makes extensions more secure.</span></span>  <span data-ttu-id="3f265-113">Les développeurs doivent créer un package et soumettre tout le code utilisé par l’extension pour validation.</span><span class="sxs-lookup"><span data-stu-id="3f265-113">Developers will need to package and submit all code used by the extension for validation.</span></span>  <span data-ttu-id="3f265-114">Vous pouvez également utiliser la fonction dans un environnement `eval()` en bac à [sable][ChromeDeveloperDocsExtensionsMv2Sandboxingeval].</span><span class="sxs-lookup"><span data-stu-id="3f265-114">Alternatively, you may use the `eval()` function in a [sandboxed environment][ChromeDeveloperDocsExtensionsMv2Sandboxingeval].</span></span>  

## <a name="run-time-host-permissions"></a><span data-ttu-id="3f265-115">Autorisations d’hôte au moment de l’run-time</span><span class="sxs-lookup"><span data-stu-id="3f265-115">Run-time host permissions</span></span>  

<span data-ttu-id="3f265-116">Au moment de l’installation, les extensions peuvent demander des autorisations d’accès autorisé pour accéder à tous les sites et contenus.</span><span class="sxs-lookup"><span data-stu-id="3f265-116">At installation time, extensions may request blanket permissions to access all sites and content.</span></span>  <span data-ttu-id="3f265-117">Ces autorisations permettent aux extensions de fonctionner avec une intervention minimale et de créer un risque pour la confidentialité et la sécurité des utilisateurs.</span><span class="sxs-lookup"><span data-stu-id="3f265-117">These permissions allow extensions to operate with minimum intervention, and create a risk to user privacy and security.</span></span>  <span data-ttu-id="3f265-118">Pour améliorer la transparence, l’équipe Microsoft Edge extensions fournit des contrôles permettant aux utilisateurs d’autoriser ou de restreindre l’accès aux sites web au moment de l’utilisation.</span><span class="sxs-lookup"><span data-stu-id="3f265-118">To improve transparency, the Microsoft Edge extensions team provides controls for users to allow or restrict access to websites at runtime.</span></span>  

## <a name="cross-origin-requests-in-content-scripts"></a><span data-ttu-id="3f265-119">Demandes d’origine croisée dans les scripts de contenu</span><span class="sxs-lookup"><span data-stu-id="3f265-119">Cross-origin requests in content scripts</span></span>  

<span data-ttu-id="3f265-120">Aujourd’hui, les scripts de contenu demandent l’accès à n’importe quelle origine, y compris aux origines qui ne sont pas autorisées par le site web.</span><span class="sxs-lookup"><span data-stu-id="3f265-120">Today, content scripts request access to any origin including origins that aren't allowed by the website.</span></span>  <span data-ttu-id="3f265-121">Le comportement rompt les principes d’origine croisée.</span><span class="sxs-lookup"><span data-stu-id="3f265-121">The behavior breaks cross-origin principles.</span></span>  <span data-ttu-id="3f265-122">À l’avenir, l’équipe d’extensions Microsoft Edge exige que les scripts de contenu ont les mêmes autorisations que la page web dans laquelle les scripts sont injectés, ce qui permet de fermer une faille de sécurité potentielle.</span><span class="sxs-lookup"><span data-stu-id="3f265-122">Going forward, the Microsoft Edge extensions team requires content scripts to have the same permissions as the webpage into which the scripts are injected, closing a potential security loophole.</span></span>  <span data-ttu-id="3f265-123">Pour effectuer des demandes d’origine croisée, vous devez utiliser des scripts d’arrière-plan pour relayer les réponses aux scripts de contenu.</span><span class="sxs-lookup"><span data-stu-id="3f265-123">To perform cross-origin requests, you need to use background scripts to relay responses back to content scripts.</span></span>  <span data-ttu-id="3f265-124">Ces modifications sont disponibles et derrière un indicateur.</span><span class="sxs-lookup"><span data-stu-id="3f265-124">These changes are available and behind a flag.</span></span>  <span data-ttu-id="3f265-125">Pour plus d’informations, accédez à ce [document.][ChromiumHomeChromiumSecurityExtensionContentScriptFetches]</span><span class="sxs-lookup"><span data-stu-id="3f265-125">For more information, navigate to this [document][ChromiumHomeChromiumSecurityExtensionContentScriptFetches].</span></span>  

## <a name="web-request-api"></a><span data-ttu-id="3f265-126">API de demande web</span><span class="sxs-lookup"><span data-stu-id="3f265-126">Web Request API</span></span>  

<span data-ttu-id="3f265-127">L Microsoft Edge d’extensions de connexion remplace [l’API][ChromeDeveloperDocsExtensionsReferenceWebrequest] de demande Web par l’API de demande [Net][ChromeDeveloperDocsExtensionsReferenceDeclarativenetrequest]déclarative, mais continue de conserver les fonctionnalités d’observation de l’API de demande Web.</span><span class="sxs-lookup"><span data-stu-id="3f265-127">The Microsoft Edge extensions team replaces [Web Request API][ChromeDeveloperDocsExtensionsReferenceWebrequest] with [Declarative Net Request API][ChromeDeveloperDocsExtensionsReferenceDeclarativenetrequest], but continues to keep the observational capabilities of the Web Request API.</span></span>  <span data-ttu-id="3f265-128">Sauf dans certains scénarios spécifiques où les fonctionnalités d’observation de l’API de demande Web sont requises par l’extension, l’équipe des extensions Microsoft Edge recommande d’utiliser uniquement les API DNR.</span><span class="sxs-lookup"><span data-stu-id="3f265-128">Except in some specific scenarios where observational capabilities of the Web Request API are required by the extension, the Microsoft Edge extensions team recommends using the DNR APIs only.</span></span>  <span data-ttu-id="3f265-129">L Microsoft Edge d’extensions de service estime que cette modification aura un impact positif sur les extensions qui utilisent des fonctionnalités déclaratives enrichies.</span><span class="sxs-lookup"><span data-stu-id="3f265-129">The Microsoft Edge extensions team believes this change will have positive impact on extensions that use feature-rich declarative capabilities.</span></span>  <span data-ttu-id="3f265-130">À mesure que d’autres extensions passeront aux API DNR, cette modification améliorera la confidentialité des utilisateurs, ce qui contribue à renforcer la confiance dans l’utilisation des extensions.</span><span class="sxs-lookup"><span data-stu-id="3f265-130">As more extensions transition to the DNR APIs, this change will improve user privacy, which contributes to enhancing trust in the use of extensions.</span></span>  
<span data-ttu-id="3f265-131">Les entreprises peuvent continuer à utiliser le comportement de blocage de l’API de demande web pour les extensions gérées par le biais de stratégies d’entreprise.</span><span class="sxs-lookup"><span data-stu-id="3f265-131">Enterprises may continue to use the blocking behavior of the Web Request API for extensions managed through enterprise policies.</span></span>  <span data-ttu-id="3f265-132">Pour plus d’informations sur les stratégies d’extension, [accédez à Microsoft Edge – Stratégies.][DeployedgeMicrosoftEdgePoliciesExtensions]</span><span class="sxs-lookup"><span data-stu-id="3f265-132">For more information about extension policies, navigate to [Microsoft Edge – Policies][DeployedgeMicrosoftEdgePoliciesExtensions].</span></span>  

## <a name="background-service-workers"></a><span data-ttu-id="3f265-133">Travailleurs du service en arrière-plan</span><span class="sxs-lookup"><span data-stu-id="3f265-133">Background service workers</span></span>  
 
<span data-ttu-id="3f265-134">Les employés de service peuvent être testés dans Canary.</span><span class="sxs-lookup"><span data-stu-id="3f265-134">Service workers are available for testing in Canary.</span></span>  <span data-ttu-id="3f265-135">Pour migrer vos extensions des pages d’arrière-plan vers les travailleurs du service, reportez-vous à La migration des pages d’arrière-plan vers les travailleurs [de service.][ChromeDeveloperDocsExtensionsMv3MigratingToServiceWorkers]</span><span class="sxs-lookup"><span data-stu-id="3f265-135">To migrate your extensions from background pages to service workers, refer to [Migrating from Background Pages to Service Workers][ChromeDeveloperDocsExtensionsMv3MigratingToServiceWorkers].</span></span>  <span data-ttu-id="3f265-136">L Microsoft Edge d’extensions de l’utilisateur évalue et examine l’impact de cette modification à la fois pour les développeurs et les utilisateurs.</span><span class="sxs-lookup"><span data-stu-id="3f265-136">The Microsoft Edge extensions team is evaluating and investigating the impact that this change brings to both developers and users.</span></span>  <span data-ttu-id="3f265-137">L Microsoft Edge des extensions de l’équipe ajoute des détails supplémentaires sur la modification à ce document à l’avenir.</span><span class="sxs-lookup"><span data-stu-id="3f265-137">The Microsoft Edge extensions team adds additional details on the change to this document in the future.</span></span>  

## <a name="when-are-these-changes-available-in-microsoft-edge"></a><span data-ttu-id="3f265-138">Quand ces modifications sont-elles disponibles dans Microsoft Edge</span><span class="sxs-lookup"><span data-stu-id="3f265-138">When are these changes available in Microsoft Edge</span></span>  

<span data-ttu-id="3f265-139">L’implémentation actuelle de l’API de demande net déclarative est disponible dans nos canaux stables et bêta.</span><span class="sxs-lookup"><span data-stu-id="3f265-139">The current declarative net request API implementation is available in our Stable and Beta channels.</span></span>  <span data-ttu-id="3f265-140">Testez les modifications et fournissez des commentaires.</span><span class="sxs-lookup"><span data-stu-id="3f265-140">Test the changes, and provide feedback.</span></span>  <span data-ttu-id="3f265-141">L’équipe Microsoft Edge extensions de projet contribue aux efforts de développement et examine d’autres modifications.</span><span class="sxs-lookup"><span data-stu-id="3f265-141">The Microsoft Edge extensions team contributes to development efforts and investigate further changes.</span></span>  

| <span data-ttu-id="3f265-142">Nom du canal</span><span class="sxs-lookup"><span data-stu-id="3f265-142">Channel name</span></span> | <span data-ttu-id="3f265-143">Détails</span><span class="sxs-lookup"><span data-stu-id="3f265-143">Details</span></span> |  
|:--- |:--- |  
| <span data-ttu-id="3f265-144">Microsoft Edge 84 stable</span><span class="sxs-lookup"><span data-stu-id="3f265-144">Microsoft Edge 84 Stable</span></span> | <span data-ttu-id="3f265-145">L’API DNR est disponible pour les tests</span><span class="sxs-lookup"><span data-stu-id="3f265-145">DNR API is available for testing</span></span> |  
| <span data-ttu-id="3f265-146">Microsoft Edge 85 bêta</span><span class="sxs-lookup"><span data-stu-id="3f265-146">Microsoft Edge 85 Beta</span></span> | <span data-ttu-id="3f265-147">La prise en charge de la modification d’en-tête est disponible</span><span class="sxs-lookup"><span data-stu-id="3f265-147">Header modification support is available</span></span>|  

<span data-ttu-id="3f265-148">Lorsque les modifications sont apportées à Chromium, l’équipe des extensions Microsoft Edge partage les chronologies afin que vous pouvez mettre à jour votre code et republier les extensions dans le magasin.</span><span class="sxs-lookup"><span data-stu-id="3f265-148">When the changes are made to Chromium, the Microsoft Edge extensions team shares timelines so that you may update your code and republish extensions to the store.</span></span>  

<span data-ttu-id="3f265-149">L’équipe Microsoft Edge extensions de publication continue de publier des mises à jour sur le blog.</span><span class="sxs-lookup"><span data-stu-id="3f265-149">The Microsoft Edge extensions team continues publishing updates on the blog.</span></span>  <span data-ttu-id="3f265-150">Vous pouvez fournir vos commentaires sur les modifications par le biais [de Tech Community][MicrosoftTechcommunityT5ArticlesManifestV3ChnagesAreNowAvailableInMicrosoftEdgeMP1780254].</span><span class="sxs-lookup"><span data-stu-id="3f265-150">You may provide your feedback on the changes through [Tech Community][MicrosoftTechcommunityT5ArticlesManifestV3ChnagesAreNowAvailableInMicrosoftEdgeMP1780254].</span></span>

<!-- links -->  

[DeployedgeMicrosoftEdgePoliciesExtensions]: /deployedge/microsoft-edge-policies#extensions "Extensions - Microsoft Edge - Stratégies | Documents Microsoft"  

[MicrosoftMicrosoftedgeAddons]: https://microsoftedge.microsoft.com/addons "Microsoft Edge Modules de modules"  

[MicrosoftTechcommunityT5ArticlesManifestV3ChnagesAreNowAvailableInMicrosoftEdgeMP1780254]: https://techcommunity.microsoft.com/t5/articles/manifest-v3-changes-are-now-available-in-microsoft-edge/m-p/1780254 "Les modifications du manifeste V3 sont désormais disponibles dans Microsoft Edge | Microsoft Tech Community"  

[ChromeDeveloperDocsExtensionsMv2Sandboxingeval]: https://developer.chrome.com/docs/extensions/mv2/sandboxingEval "Utilisation d’eval dans les extensions Chrome | Développeurs Chrome"  
[ChromeDeveloperDocsExtensionsMv3MigratingToServiceWorkers]:  https://developer.chrome.com/docs/extensions/mv3/migrating_to_service_workers "Migration de pages d’arrière-plan vers des | Développeurs Chrome"  
[ChromeDeveloperDocsExtensionsMv3Mv3MigrationChecklist]: https://developer.chrome.com/docs/extensions/mv3/mv3-migration-checklist "Liste de vérification pour la migration de manifeste V3 | Développeurs Chrome"    

[ChromeDeveloperDocsExtensionsReferenceDeclarativenetrequest]: https://developer.chrome.com/docs/extensions/reference/declarativeNetRequest "chrome.declarativeNetRequest | Développeurs Chrome"  
[ChromeDeveloperDocsExtensionsReferenceWebrequest]: https://developer.chrome.com/docs/extensions/reference/webRequest "Chrome.webRequest, | Développeurs Chrome"  

[ChromiumHomeChromiumSecurityExtensionContentScriptFetches]: https://www.chromium.org/Home/chromium-security/extension-content-script-fetches "Modifications apportées aux demandes d’origine croisée dans les scripts de contenu d’extension Chrome | Projets Chromium de projet"  
