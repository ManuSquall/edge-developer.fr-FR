---
description: Options de distribution lors de la publication d’une application à l’aide de Microsoft Edge WebView2
title: Distribution des applications WebView2 Microsoft Edge
author: MSEdgeTeam
ms.author: msedgedevrel
ms.date: 10/14/2020
ms.topic: conceptual
ms.prod: microsoft-edge
ms.technology: webview
keywords: IWebView2, IWebView2WebView, webview2, WebView, applications WPF, WPF, Edge, ICoreWebView2, ICoreWebView2Host, contrôle de navigateur, html Edge
ms.openlocfilehash: e96ca2b26feb3883b51ad468db1fabe68ed8ad1f
ms.sourcegitcommit: 61cc15d2fc89aee3e09cec48ef1e0e5bbf8d289a
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 10/15/2020
ms.locfileid: "11118996"
---
# <span data-ttu-id="47812-104">Distribution d’applications à l’aide de WebView2</span><span class="sxs-lookup"><span data-stu-id="47812-104">Distribution of applications using WebView2</span></span>  

<span data-ttu-id="47812-105">Lors de la distribution de votre application WebView2, assurez-vous que la plateforme Web de stockage-le [Runtime WebView2](#understanding-the-webview2-runtime) est présent avant le démarrage de l’application.</span><span class="sxs-lookup"><span data-stu-id="47812-105">When distributing your WebView2 application, make sure the backing web platform - the [WebView2 Runtime](#understanding-the-webview2-runtime) is present before the app starts.</span></span>  <span data-ttu-id="47812-106">Cet article décrit comment les développeurs peuvent installer le runtime  [WebView2 et utiliser](#evergreen-distribution-mode) les deux modes de distribution de votre application WebView2: persistants et [version corrigée](#fixed-version-distribution-mode).</span><span class="sxs-lookup"><span data-stu-id="47812-106">This article describes how developers can install the WebView2 Runtime, and use the two distribution modes for your WebView2 application:  [Evergreen](#evergreen-distribution-mode) and [Fixed Version](#fixed-version-distribution-mode).</span></span>  

## <span data-ttu-id="47812-107">Mode de distribution persistant</span><span class="sxs-lookup"><span data-stu-id="47812-107">Evergreen distribution mode</span></span>  

> [!NOTE]
> <span data-ttu-id="47812-108">Le mode de distribution persistant est recommandé pour la plupart des développeurs.</span><span class="sxs-lookup"><span data-stu-id="47812-108">The Evergreen distribution mode is recommended for most developers.</span></span>  

<span data-ttu-id="47812-109">Le mode de distribution persistant garantit que votre application tire parti des dernières fonctionnalités et des mises à jour de sécurité.</span><span class="sxs-lookup"><span data-stu-id="47812-109">The Evergreen distribution mode ensures that your app is taking advantage of the latest features and security updates.</span></span>  <span data-ttu-id="47812-110">Il présente les caractéristiques suivantes.</span><span class="sxs-lookup"><span data-stu-id="47812-110">It has the following characteristics.</span></span>  

*   <span data-ttu-id="47812-111">La plateforme Web sous-jacente \ (WebView2 Runtime \) est mise à jour automatiquement sans aucun effort supplémentaire des développeurs.</span><span class="sxs-lookup"><span data-stu-id="47812-111">The underlying web platform \(WebView2 Runtime\) updates automatically without additional effort from developers.</span></span>  
*   <span data-ttu-id="47812-112">Toutes les applications qui utilisent le mode de distribution persistant utilisent une copie partagée du runtime WebView2 persistant, qui économise de l’espace disque.</span><span class="sxs-lookup"><span data-stu-id="47812-112">All applications that use the Evergreen distribution mode use a shared copy of the Evergreen WebView2 Runtime, which saves disk space.</span></span>  

### <span data-ttu-id="47812-113">Présentation de la WebView2 Runtime</span><span class="sxs-lookup"><span data-stu-id="47812-113">Understanding the WebView2 Runtime</span></span>  

<span data-ttu-id="47812-114">WebView2 Runtime est un Runtime redistribuable qui sert de plateforme Web de stockage pour les applications WebView2.</span><span class="sxs-lookup"><span data-stu-id="47812-114">WebView2 Runtime is a re-distributable runtime and serves as the backing web platform for WebView2 applications.</span></span>  <span data-ttu-id="47812-115">Ce concept est similaire à celui de VC + + ou .NET Runtime pour les applications/.NET C++.</span><span class="sxs-lookup"><span data-stu-id="47812-115">This concept is similar to VC++ or .NET Runtime for C++/.NET apps.</span></span>  <span data-ttu-id="47812-116">Dans le cadre du coulisse, le runtime est modifié les fichiers binaires Microsoft Edge \ (chrome \) qui sont affiné et testés pour les applications.</span><span class="sxs-lookup"><span data-stu-id="47812-116">Under the hood, the Runtime is modified Microsoft Edge \(Chromium\) binaries that are fine-tuned and tested for applications.</span></span>  <span data-ttu-id="47812-117">Dans le cadre de l’installation, le runtime ne s’affichera pas sous la forme d’un navigateur visible par l’utilisateur lors de l’installation, par exemple, les utilisateurs ne disposeront pas d’un raccourci sur le bureau ou</span><span class="sxs-lookup"><span data-stu-id="47812-117">The Runtime won't appear as a user-visible browser upon installation, for example, users won't have a browser desktop shortcut or start menu entry.</span></span>  

<span data-ttu-id="47812-118">Pour le développement et les tests, les développeurs peuvent utiliser le runtime ou un canal de navigateur Microsoft Edge \ (chrome \) non stable pour la plateforme Web de stockage.</span><span class="sxs-lookup"><span data-stu-id="47812-118">For development and testing, developers may use the Runtime or any non-stable Microsoft Edge \(Chromium\) browser channel for the backing web platform.</span></span>  <span data-ttu-id="47812-119">Dans les environnements de production, les développeurs doivent s’assurer que le runtime est présent sur des appareils utilisateur avant le démarrage de l’application.</span><span class="sxs-lookup"><span data-stu-id="47812-119">In production environments, developers must ensure the Runtime is present on user devices before the application starts.</span></span>  <span data-ttu-id="47812-120">Le canal stable Microsoft Edge n’est pas disponible pour l’utilisation de WebView2 afin d’éviter que les applications ne dépendent du navigateur en production.</span><span class="sxs-lookup"><span data-stu-id="47812-120">The Microsoft Edge Stable channel is unavailable for WebView2 usage to prevent apps from taking a dependency on the browser in production.</span></span>  

<span data-ttu-id="47812-121">Les développeurs ne doivent pas appliquer de dépendance au navigateur, car:</span><span class="sxs-lookup"><span data-stu-id="47812-121">Developers must not take a dependency on the browser because:</span></span>  

*   <span data-ttu-id="47812-122">Le mode de présentation de Microsoft Edge \ (chrome \) n’est pas garanti sur tous les appareils utilisateurs.</span><span class="sxs-lookup"><span data-stu-id="47812-122">Microsoft Edge \(Chromium\) isn't guaranteed to be present on all user devices.</span></span>  <span data-ttu-id="47812-123">Par exemple, les appareils déconnectés de Windows Update ou qui ne sont pas gérés directement par Microsoft (une grande partie du marché entreprise/EDU) ne disposent pas du navigateur.</span><span class="sxs-lookup"><span data-stu-id="47812-123">For example, devices disconnected from Windows Update or not managed by Microsoft directly \(a large portion of the Enterprise/EDU market\) may not have the browser.</span></span>  <span data-ttu-id="47812-124">Permettre aux développeurs de distribuer le runtime WebView2 évite d’adopter une dépendance sur le navigateur en tant qu’éléments préalables pour les applications.</span><span class="sxs-lookup"><span data-stu-id="47812-124">Allowing developers to distribute the WebView2 Runtime avoids taking a dependency on the browser as a pre-requisite for apps.</span></span>
*   <span data-ttu-id="47812-125">Les navigateurs et applications ont des cas d’utilisation différents, et par conséquent, il est possible que les dépendances sur un navigateur aient des effets inattendus sur vos applications.</span><span class="sxs-lookup"><span data-stu-id="47812-125">Browsers and apps have different use cases, and so taking a dependency on a browser may have unintended side-effects on your apps.</span></span>  <span data-ttu-id="47812-126">Par exemple, il est possible que les administrateurs informatiques contrôlent la version du navigateur pour la compatibilité du site Web interne.</span><span class="sxs-lookup"><span data-stu-id="47812-126">For example, IT admins may version-control the browser for internal website compatibility.</span></span>  <span data-ttu-id="47812-127">WebView2 Runtime permet aux applications de rester persistant lorsque les mises à jour de navigateur sont gérées activement.</span><span class="sxs-lookup"><span data-stu-id="47812-127">WebView2 Runtime allows apps to stay evergreen while browser updates are being actively managed.</span></span>  
*   <span data-ttu-id="47812-128">Contrairement au navigateur, le runtime est développé et testé pour les scénarios d’application, et dans certains cas, il peut y avoir des corrections de bogues qui ne sont pas encore disponibles dans le navigateur.</span><span class="sxs-lookup"><span data-stu-id="47812-128">As opposed to the browser, the Runtime is developed and tested for application scenarios and in some cases may include bug fixes not yet available in the browser.</span></span>  

<span data-ttu-id="47812-129">Le runtime WebView2 persistant est prévu d’expédier la boîte de réception dans les futures versions de Windows.</span><span class="sxs-lookup"><span data-stu-id="47812-129">The Evergreen WebView2 Runtime is planned to ship inbox in future releases of Windows.</span></span>  <span data-ttu-id="47812-130">Avant que le runtime ne soit plus universellement disponible, les développeurs sont recommandés pour déployer le runtime en même temps que leur application de production.</span><span class="sxs-lookup"><span data-stu-id="47812-130">Before the Runtime becomes more universally available, developers are recommended to deploy the Runtime along with their production application.</span></span>  

### <span data-ttu-id="47812-131">Déploiement de l’exécutable WebView2 persistant</span><span class="sxs-lookup"><span data-stu-id="47812-131">Deploying the Evergreen WebView2 Runtime</span></span>  

<span data-ttu-id="47812-132">Une seule installation de l’exécutable WebView2 persistant est nécessaire pour toutes les applications persistantes sur l’appareil.</span><span class="sxs-lookup"><span data-stu-id="47812-132">Only one installation of the Evergreen WebView2 Runtime is needed for all Evergreen apps on the device.</span></span>  <span data-ttu-id="47812-133">Un certain nombre d’outils sont disponibles sur la [page de téléchargement de WebView2 Runtime][Webview2Installer] pour aider les développeurs à déployer le runtime persistant, par exemple:</span><span class="sxs-lookup"><span data-stu-id="47812-133">There are a number of tools available on the [WebView2 Runtime download page][Webview2Installer] to help developers deploy the Evergreen Runtime, such as:</span></span>  

*   <span data-ttu-id="47812-134">Le programme d’amorçage du runtime WebView2 (bientôt disponible) est un programme d’installation minuscule \ (approximativement 2 Mo).</span><span class="sxs-lookup"><span data-stu-id="47812-134">WebView2 Runtime Bootstrapper \(to be released soon\) is a tiny \(approximately 2 MB\) installer.</span></span>  <span data-ttu-id="47812-135">Ce programme d’installation télécharge et installe le runtime persistant à partir de serveurs Microsoft qui correspond à l’architecture de l’appareil de l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="47812-135">This installer downloads and installs the Evergreen Runtime from Microsoft servers that matches the user's device architecture.</span></span>  
*   <span data-ttu-id="47812-136">Lien pour télécharger le programme d’amorçage (à publier bientôt) est un lien permettant aux développeurs de télécharger le programme d’amorçage par programmation.</span><span class="sxs-lookup"><span data-stu-id="47812-136">Link to download the Bootstrapper \(to be released soon\) is a link for developers to programmatically download the bootstrapper.</span></span>
*   <span data-ttu-id="47812-137">Le programme d’installation autonome de WebView2 Runtime est un programme d’installation complet qui peut installer le WebView2 Runtime persistant dans les environnements hors connexion.</span><span class="sxs-lookup"><span data-stu-id="47812-137">WebView2 Runtime Standalone Installer is a full installer that can install the Evergreen WebView2 Runtime in offline environments.</span></span>  

<span data-ttu-id="47812-138">Pour le moment, le programme d’amorçage et le programme d’installation autonome prennent uniquement en charge l’installation par machine, qui nécessite une élévation.</span><span class="sxs-lookup"><span data-stu-id="47812-138">Currently, both the bootstrapper and standalone installer only support per-machine install, which requires elevation.</span></span>  <span data-ttu-id="47812-139">Lors de l’exécution sans élévation, une invite contrôle de compte d’utilisateur Windows s’affiche pour demander aux utilisateurs d’élever les autorisations.</span><span class="sxs-lookup"><span data-stu-id="47812-139">When run without elevation, a Windows User Account Control prompt appears to ask users to elevate permissions.</span></span>  

<span data-ttu-id="47812-140">Nous recommandons les flux de travail suivants pour vérifier que le runtime est déjà installé avant le lancement de l’application.</span><span class="sxs-lookup"><span data-stu-id="47812-140">We recommend the following workflows to ensure the Runtime is already installed before your application launches.</span></span>  <span data-ttu-id="47812-141">Vous pouvez ajuster votre flux de travail en fonction de votre scénario.</span><span class="sxs-lookup"><span data-stu-id="47812-141">You may adjust your workflow depending on your scenario.</span></span>  <span data-ttu-id="47812-142">Nous fournissons également un exemple de code à l’avenir.</span><span class="sxs-lookup"><span data-stu-id="47812-142">We'll also provide sample code in the future.</span></span>  

#### <span data-ttu-id="47812-143">Déploiement en ligne uniquement</span><span class="sxs-lookup"><span data-stu-id="47812-143">Online-only deployment</span></span>  

<span data-ttu-id="47812-144">Si vous avez un scénario de déploiement en ligne uniquement où les utilisateurs finaux sont supposés disposer d’un accès à Internet, procédez comme suit:</span><span class="sxs-lookup"><span data-stu-id="47812-144">If you have an online-only deployment scenario where end users are assumed to have internet access, perform the following steps:</span></span>  

*   <span data-ttu-id="47812-145">Lors de l’installation de votre application, vérifiez si le runtime est déjà installé sur l’ordinateur:</span><span class="sxs-lookup"><span data-stu-id="47812-145">During your application setup, check if the Runtime is already installed by either:</span></span>  
    *   <span data-ttu-id="47812-146">L’inspection si le contrôle RegKey `pv (REG_SZ)` existe sous `HKEY_LOCAL_MACHINE\SOFTWARE\WOW6432Node\Microsoft\EdgeUpdate\ClientState\{F3017226-FE2A-4295-8BDF-00C3A9A7E4C5}` ou</span><span class="sxs-lookup"><span data-stu-id="47812-146">Inspecting if regkey `pv (REG_SZ)` exists under `HKEY_LOCAL_MACHINE\SOFTWARE\WOW6432Node\Microsoft\EdgeUpdate\ClientState\{F3017226-FE2A-4295-8BDF-00C3A9A7E4C5}`, or</span></span>  
    *   <span data-ttu-id="47812-147">Appel de l’API WebView2 [GetAvailableCoreWebView2BrowserVersionString](/microsoft-edge/webview2/reference/win32/webview2-idl#getavailablecorewebview2browserversionstring) , puis vérifier si versionInfo a la valeur null.</span><span class="sxs-lookup"><span data-stu-id="47812-147">Calling WebView2 API [GetAvailableCoreWebView2BrowserVersionString](/microsoft-edge/webview2/reference/win32/webview2-idl#getavailablecorewebview2browserversionstring) and check whether the versionInfo is NULL.</span></span>  
*   <span data-ttu-id="47812-148">Si le runtime n’est pas installé, utilisez le lien par programmation pour télécharger le programme d’amorçage.</span><span class="sxs-lookup"><span data-stu-id="47812-148">If the Runtime isn't installed, use the link to programmatically download the bootstrapper.</span></span>  
*   <span data-ttu-id="47812-149">Invoquez le programme d’amorçage à partir d’un processus ou d’une invite de commandes avec élévation de privilèges `MicrosoftEdgeWebview2Setup.exe /silent /install` pour une installation silencieuse.</span><span class="sxs-lookup"><span data-stu-id="47812-149">Invoke the bootstrapper from an elevated process or command prompt with `MicrosoftEdgeWebview2Setup.exe /silent /install` for silent install.</span></span>  

<span data-ttu-id="47812-150">Ce flux de travail garantit l’installation de la version d’exécution uniquement lorsqu’elle est nécessaire, vous n’êtes pas obligé de empaqueter les programmes d’installation ou de détecter l’architecture des appareils utilisateur, et pouvez installer le runtime en silence.</span><span class="sxs-lookup"><span data-stu-id="47812-150">This workflow ensures you install the Runtime only when it's needed, you're not required to package installers or detect the architecture of user devices, and can install the Runtime silently.</span></span>  <span data-ttu-id="47812-151">Vous pouvez également choisir de conditionner le programme de démarrage avec votre application au lieu de la télécharger par programmation à la demande.</span><span class="sxs-lookup"><span data-stu-id="47812-151">You may also choose to package the bootstrapper with your application instead of programmatically downloading it on demand.</span></span>  

#### <span data-ttu-id="47812-152">Déploiement hors connexion</span><span class="sxs-lookup"><span data-stu-id="47812-152">Offline deployment</span></span>  

<span data-ttu-id="47812-153">Si vous avez un scénario de déploiement hors connexion dans lequel le déploiement de l’application doit fonctionner entièrement hors connexion, procédez comme suit:</span><span class="sxs-lookup"><span data-stu-id="47812-153">If you have an offline deployment scenario where app deployment has to work entirely offline, perform the following steps:</span></span>  

*   <span data-ttu-id="47812-154">Téléchargez le [programme d’installation autonome][Webview2Installer].</span><span class="sxs-lookup"><span data-stu-id="47812-154">Download the [standalone installer][Webview2Installer].</span></span>  
*   <span data-ttu-id="47812-155">Incluez le programme d’installation dans le programme d’installation ou de mise à jour de votre application.</span><span class="sxs-lookup"><span data-stu-id="47812-155">Include the installer in your application installer or updater.</span></span>  
*   <span data-ttu-id="47812-156">Lors de l’installation de votre application, vérifiez si le runtime est déjà installé sur l’ordinateur:</span><span class="sxs-lookup"><span data-stu-id="47812-156">During your application setup, check if the Runtime is already installed by either:</span></span>  
    *   <span data-ttu-id="47812-157">L’inspection si le contrôle RegKey `pv (REG_SZ)` existe sous `HKEY_LOCAL_MACHINE\SOFTWARE\WOW6432Node\Microsoft\EdgeUpdate\ClientState\{F3017226-FE2A-4295-8BDF-00C3A9A7E4C5}` ou</span><span class="sxs-lookup"><span data-stu-id="47812-157">Inspecting if regkey `pv (REG_SZ)` exists under `HKEY_LOCAL_MACHINE\SOFTWARE\WOW6432Node\Microsoft\EdgeUpdate\ClientState\{F3017226-FE2A-4295-8BDF-00C3A9A7E4C5}`, or</span></span>  
    *   <span data-ttu-id="47812-158">Appel de l’API WebView2 [GetAvailableCoreWebView2BrowserVersionString](/microsoft-edge/webview2/reference/win32/webview2-idl#getavailablecorewebview2browserversionstring) , puis vérifier si versionInfo a la valeur null.</span><span class="sxs-lookup"><span data-stu-id="47812-158">Calling WebView2 API [GetAvailableCoreWebView2BrowserVersionString](/microsoft-edge/webview2/reference/win32/webview2-idl#getavailablecorewebview2browserversionstring) and check whether the versionInfo is NULL.</span></span>  
*   <span data-ttu-id="47812-159">Si le runtime n’est pas installé, invoquez le programme d’installation autonome à partir d’un processus ou d’une invite de commandes avec élévation de privilèges `MicrosoftEdgeWebView2RuntimeInstaller{X64/X86/ARM64}.exe /silent /install` pour une installation silencieuse.</span><span class="sxs-lookup"><span data-stu-id="47812-159">If the Runtime isn't installed, invoke the standalone installer from an elevated process or command prompt with `MicrosoftEdgeWebView2RuntimeInstaller{X64/X86/ARM64}.exe /silent /install` for silent install.</span></span>  

## <span data-ttu-id="47812-160">Mode de distribution de version fixe</span><span class="sxs-lookup"><span data-stu-id="47812-160">Fixed Version distribution mode</span></span>  

> [!NOTE]
> <span data-ttu-id="47812-161">Le mode de distribution de la version fixe n’est pas encore disponible.</span><span class="sxs-lookup"><span data-stu-id="47812-161">The Fixed Version distribution mode is not available yet.</span></span>  

<span data-ttu-id="47812-162">Dans le cas d’environnements restreints, il est prévu de prendre en charge une version fixe, auparavant nommée amener à votre propre mode de distribution.</span><span class="sxs-lookup"><span data-stu-id="47812-162">For constrained environments, there are plans to support a Fixed Version, previously named bring-your-own, distribution mode.</span></span>  <span data-ttu-id="47812-163">Le mode de distribution de version fixe permet aux développeurs de sélectionner et de empaqueter une version spécifique de l’exécution WebView2.</span><span class="sxs-lookup"><span data-stu-id="47812-163">The Fixed Version distribution mode allows developers to select and package a specific version of the WebView2 Runtime.</span></span>  <span data-ttu-id="47812-164">Le mode de distribution de la version fixe vous permet de contrôler la version de WebView2 Runtime utilisée par votre application, ainsi que la mise à jour des ordinateurs utilisateur.</span><span class="sxs-lookup"><span data-stu-id="47812-164">The Fixed Version distribution mode allows you to control which version of the WebView2 Runtime is used by your application, and when user machines are updated.</span></span>  <span data-ttu-id="47812-165">Le mode de distribution de la version fixe ne reçoit aucune mise à jour automatique, et les développeurs doivent envisager d’appliquer les mises à jour eux-mêmes.</span><span class="sxs-lookup"><span data-stu-id="47812-165">The Fixed Version distribution mode doesn't receive any automatic updates, and developers should plan to apply updates themselves.</span></span>  


<!-- links -->  

[ConceptsVersioning]: ./versioning.md "Présentation des versions de navigateur et de WebView2 | Documents Microsoft"  

[Webview2Installer]: https://developer.microsoft.com/microsoft-edge/webview2 "Programme d’installation de WebView2"  
